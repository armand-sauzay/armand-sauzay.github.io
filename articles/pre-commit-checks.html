<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/a34f9d1faa5f3315-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" as="image" href="https://miro.medium.com/max/1400/1*-zO5GC_wdGUDuOb6R-IelA.webp"/><link rel="stylesheet" href="/_next/static/css/56593b524a1ee8d7.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-87b4446f5aacfc58.js"/><script src="/_next/static/chunks/4bd1b696-d0010192273b2f08.js" async=""></script><script src="/_next/static/chunks/517-34c25e9c69b3332f.js" async=""></script><script src="/_next/static/chunks/main-app-a6b2e7fa0ef815fd.js" async=""></script><script src="/_next/static/chunks/173-24113e259ce525da.js" async=""></script><script src="/_next/static/chunks/app/articles/page-9a53c5301fbc680c.js" async=""></script><script src="/_next/static/chunks/313-6cc61c2fd8ca5084.js" async=""></script><script src="/_next/static/chunks/app/articles/%5Bslug%5D/page-444914622aa9eeee.js" async=""></script><meta name="next-size-adjust" content=""/><title>Armand Sauzay</title><meta name="description" content="Personal website of Armand Sauzay"/><link rel="icon" href="/favicon.ico"/><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body class="__className_d65c78 min-h-screen flex flex-col"><div><nav class="p-6"><div class="max-w-4xl mx-auto flex justify-between items-center"><a class="text-[#005530] font-semibold text-xl" href="/">armandsauzay</a><div class="flex gap-6"><a class="text-gray-600 hover:text-[#24512B] transition-colors flex items-center gap-2 cursor-pointer" href="/articles"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-book-open h-5 w-5"><path d="M12 7v14"></path><path d="M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z"></path></svg><span>Articles</span></a><a class="text-gray-600 hover:text-[#24512B] transition-colors flex items-center gap-2 cursor-pointer" href="/projects"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-code-xml h-5 w-5"><path d="m18 16 4-4-4-4"></path><path d="m6 8-4 4 4 4"></path><path d="m14.5 4-5 16"></path></svg><span>Projects</span></a><a class="text-gray-600 hover:text-[#24512B] transition-colors flex items-center gap-2 cursor-pointer" href="/creative-lab"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-brain h-5 w-5"><path d="M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z"></path><path d="M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z"></path><path d="M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4"></path><path d="M17.599 6.5a3 3 0 0 0 .399-1.375"></path><path d="M6.003 5.125A3 3 0 0 0 6.401 6.5"></path><path d="M3.477 10.896a4 4 0 0 1 .585-.396"></path><path d="M19.938 10.5a4 4 0 0 1 .585.396"></path><path d="M6 18a4 4 0 0 1-1.967-.516"></path><path d="M19.967 17.484A4 4 0 0 1 18 18"></path></svg><span>Creative Lab</span></a></div></div></nav><div class="max-w-4xl mx-auto border-b border-gray-200"></div></div><main class="flex-1 flex flex-col items-center justify-center"><div class="min-h-screen flex flex-col"><main class="flex-1 max-w-4xl mx-auto px-4 py-16"><article class="prose prose-neutral max-w-2xl mx-auto p-6 prose-pre:border-0"><h1 id="pre-commit-checks-to-format-your-files-and-commitmessages">Pre-commit checks to format your files and commitÂ messages</h1>
<p>Stop committing wrongly formatted code and start using pre-commit checks.</p>
<p><img src="https://miro.medium.com/max/1400/1*-zO5GC_wdGUDuOb6R-IelA.webp" alt="" node="[object Object]"/></p>
<center>Photo by Roman Synkevych ðŸ‡ºðŸ‡¦ onÂ Unsplash </center>
<h2 id="introduction">Introduction</h2>
<p>How many times have you seen a commit message like &#x27;test&#x27; or &#x27;modif&#x27; or &#x27;reran notebook&#x27;?</p>
<p>Commit messages can be very useful and their format can help get the relevant information in a simple look. This is what conventional commits is trying to achieve: standardize the commit format to be able to navigate through commits easily and understand what code update they were associated to. But how could we make sure all commits followed this format?</p>
<p>File formatting can also be quite challenging when more than one person works on a GitHub repository. How could we make sure that all the files committed to a repository have the same format? Or that you do have the extra empty line at the end of your file that some system require to successfully run?</p>
<p>This is where standardization makes our life easier, especially when enforced before the commits: black formatting for python, getting rid of trailing whitespaces, etc.</p>
<p>Long story short, all the formatting issues that you might had to deal with or that created useless commits could be avoided by using pre-commit checks.</p>
<p>Without further due, let&#x27;s see how we can implement these concepts to an actual GitHub repository (if you need more context on conventional commits feel free to skip to the appendix and come back here after).</p>
<hr/>
<center>
<p>All of the code for this tutorial can be foundÂ <a href="https://github.com/armand-sauzay/blog-posts/pre-commit-checks-to-format-your-files-and-commit-messages">here</a></p>
</center>
<hr/>
<h2 id="get-started-with-pre-commit-checks">Get started with pre-commit checks</h2>
<h3 id="step-1-install-pre-commit">Step 1: Install pre-commit</h3>
<p>To install pre-commit, simply run</p>
<pre><div style="position:relative"><button aria-label="Copy code" style="position:absolute;top:8px;right:8px;z-index:10;background:none;border:none;padding:0;cursor:pointer;opacity:0.7;transition:opacity 0.2s"><svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><rect x="9" y="9" width="13" height="13" rx="2" ry="2" stroke="currentColor"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg></button><pre style="background:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:0.5em 0;overflow:auto;border-radius:0.3em"><code class="language-bash" style="white-space:pre;background:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>brew </span><span class="token" style="color:hsl(221, 87%, 60%)">install</span><span> pre-commit</span></code></pre></div></pre>
<p>This will install pre-commit on your machine.</p>
<h3 id="step-2-add-pre-commit-checks-to-your-repo">Step 2: Add pre-commit checks to your repo</h3>
<p>To be able to add pre-commit checks that make sure your files and commit messages are correctly formatted, you simply need to add <strong>2 files</strong> at the root of your repo:</p>
<ul>
<li><strong>.pre-commit-config.yaml</strong>: defines the checks you want to run</li>
<li><strong>.commitlintrc.yaml</strong>: defines the npm package you use for pre commits.</li>
</ul>
<pre><div style="position:relative"><button aria-label="Copy code" style="position:absolute;top:8px;right:8px;z-index:10;background:none;border:none;padding:0;cursor:pointer;opacity:0.7;transition:opacity 0.2s"><svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><rect x="9" y="9" width="13" height="13" rx="2" ry="2" stroke="currentColor"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg></button><pre style="background:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:0.5em 0;overflow:auto;border-radius:0.3em"><code class="language-yaml" style="white-space:pre;background:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:hsl(230, 4%, 64%);font-style:italic"># .commitlintrc.yaml</span><span>
</span><span></span><span class="token key" style="color:hsl(35, 99%, 36%)">extends</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span>  </span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span> </span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;@open-turo/commitlint-config-conventional&quot;</span></code></pre></div></pre>
<pre><div style="position:relative"><button aria-label="Copy code" style="position:absolute;top:8px;right:8px;z-index:10;background:none;border:none;padding:0;cursor:pointer;opacity:0.7;transition:opacity 0.2s"><svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><rect x="9" y="9" width="13" height="13" rx="2" ry="2" stroke="currentColor"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg></button><pre style="background:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:0.5em 0;overflow:auto;border-radius:0.3em"><code class="language-yaml" style="white-space:pre;background:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:hsl(230, 4%, 64%);font-style:italic"># .pre-commit-config.yaml</span><span>
</span><span></span><span class="token key" style="color:hsl(35, 99%, 36%)">repos</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span>  </span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span> </span><span class="token key" style="color:hsl(35, 99%, 36%)">repo</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> https</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>//github.com/pre</span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span>commit/pre</span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span>commit</span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span>hooks
</span><span>    </span><span class="token key" style="color:hsl(35, 99%, 36%)">rev</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> v2.3.0
</span><span>    </span><span class="token key" style="color:hsl(35, 99%, 36%)">hooks</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span>    </span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span>   </span><span class="token key" style="color:hsl(35, 99%, 36%)">id</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> check</span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span>yaml
</span><span>    </span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span>   </span><span class="token key" style="color:hsl(35, 99%, 36%)">id</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> end</span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span>of</span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span>file</span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span>fixer
</span><span>    </span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span>   </span><span class="token key" style="color:hsl(35, 99%, 36%)">id</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> trailing</span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span>whitespace
</span><span>  </span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span> </span><span class="token key" style="color:hsl(35, 99%, 36%)">repo</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> https</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>//github.com/alessandrojcm/commitlint</span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span>pre</span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span>commit</span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span>hook
</span><span>    </span><span class="token key" style="color:hsl(35, 99%, 36%)">rev</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> v8.0.0
</span><span>    </span><span class="token key" style="color:hsl(35, 99%, 36%)">hooks</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span>      </span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span> </span><span class="token key" style="color:hsl(35, 99%, 36%)">id</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> commitlint
</span><span>        </span><span class="token key" style="color:hsl(35, 99%, 36%)">stages</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> </span><span class="token" style="color:hsl(230, 8%, 24%)">[</span><span>commit</span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span>msg</span><span class="token" style="color:hsl(230, 8%, 24%)">]</span><span>
</span><span>        </span><span class="token key" style="color:hsl(35, 99%, 36%)">additional_dependencies</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> </span><span class="token" style="color:hsl(230, 8%, 24%)">[</span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;@open-turo/commitlint-config-conventional&quot;</span><span class="token" style="color:hsl(230, 8%, 24%)">]</span></code></pre></div></pre>
<p>Once you added those files, you can try adding a commit, the pre commit checks defined will make sure that:</p>
<ul>
<li>yaml files are correctly formatted</li>
<li>files have an extra empty line at the end (this is considered best practice as some systems fail when this condition is not met)</li>
<li>get rid of trailing whitespaces</li>
<li>make sure that the commits follow the <a href="https://www.conventionalcommits.org/en/v1.0.0/">conventional commits</a> format.</li>
</ul>
<p>To see if this worked, try to commit those files to your repo with some commit message like
git commit -m &#x27;feat: enabled pre-commit checks&#x27;</p>
<hr/>
<p>Woohoo! You now know how to add pre commit checks to your own repository to make sure your file format are consistent and your commit messages too!</p>
<hr/>
<h2 id="apendix">Apendix</h2>
<p><strong>Appendix 1</strong>: A word on Conventional Commits
With conventional commits, the commit message should be structured as follows:</p>
<pre><code node="[object Object]">&lt;type&gt;[optional scope]: &lt;description&gt;
[optional body]
[optional footer(s)]
</code></pre>
<p>For example (from commit conventional docs):</p>
<pre><code node="[object Object]">feat: allow provided config object to extend other configs
BREAKING CHANGE: `extends` key in config file is now used for extending other config files
</code></pre>
<p><strong>Appendix 2</strong>: adding a python code formatter to pre-commit checks
Additional content: if you want to add a python code formatter, like black, you can append to the end ofÂ .pre-commit-config.yaml</p>
<pre><div style="position:relative"><button aria-label="Copy code" style="position:absolute;top:8px;right:8px;z-index:10;background:none;border:none;padding:0;cursor:pointer;opacity:0.7;transition:opacity 0.2s"><svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><rect x="9" y="9" width="13" height="13" rx="2" ry="2" stroke="currentColor"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg></button><pre style="background:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:0.5em 0;overflow:auto;border-radius:0.3em"><code class="language-yaml" style="white-space:pre;background:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span> </span><span class="token key" style="color:hsl(35, 99%, 36%)">repo</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> https</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>//github.com/psf/black
</span><span>    </span><span class="token key" style="color:hsl(35, 99%, 36%)">rev</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> 21.12b0
</span><span>    </span><span class="token key" style="color:hsl(35, 99%, 36%)">hooks</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span>    </span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span> </span><span class="token key" style="color:hsl(35, 99%, 36%)">id</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> black</span></code></pre></div></pre>
<h2 id="about-me">About me</h2>
<p>Hey! ðŸ‘‹ I&#x27;m Armand Sauzay (<a href="https://twitter.com/armandsauzay">armandsauzay</a>). You can find, follow or contact me on:</p>
<ul>
<li><a href="https://github.com/armand-sauzay">Github</a></li>
<li><a href="https://twitter.com/armandsauzay">Twitter</a></li>
<li><a href="https://www.linkedin.com/in/armand-sauzay-80a70b160/">LinkedIn</a></li>
<li><a href="https://medium.com/@armand-sauzay">Medium</a></li>
<li><a href="https://dev.to/armandsauzay">Dev.to</a></li>
</ul></article></main></div></main><footer class="w-full flex justify-center items-center gap-4 p-6 text-sm text-gray-500 mt-auto"><div class="flex gap-8 items-center "><a class="text-gray-500 hover:text-[#24512B] transition-transform transform hover:scale-110 " target="_blank" rel="noopener noreferrer" href="https://github.com/armand-sauzay"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-github h-4 w-4" style="width:16px;height:16px"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"></path><path d="M9 18c-4.51 2-5-2-7-2"></path></svg><span class="sr-only">GitHub</span></a><a class="text-gray-500 hover:text-[#24512B] transition-transform transform hover:scale-110 " target="_blank" rel="noopener noreferrer" href="https://linkedin.com/in/armandsauzay"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-linkedin h-4 w-4" style="width:16px;height:16px"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect width="4" height="12" x="2" y="9"></rect><circle cx="4" cy="4" r="2"></circle></svg><span class="sr-only">LinkedIn</span></a><a class="text-gray-500 hover:text-[#24512B] transition-transform transform hover:scale-110 " href="mailto:sauzayarmand@gmail.com"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-mail h-4 w-4" style="width:16px;height:16px"><rect width="20" height="16" x="2" y="4" rx="2"></rect><path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"></path></svg><span class="sr-only">Email</span></a></div><span class="text-gray-400">Â© armand sauzay</span></footer><script src="/_next/static/chunks/webpack-87b4446f5aacfc58.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[48173,[\"173\",\"static/chunks/173-24113e259ce525da.js\",\"292\",\"static/chunks/app/articles/page-9a53c5301fbc680c.js\"],\"\"]\n3:I[15244,[],\"\"]\n4:I[43866,[],\"\"]\n6:I[86213,[],\"OutletBoundary\"]\n8:I[86213,[],\"MetadataBoundary\"]\na:I[86213,[],\"ViewportBoundary\"]\nc:I[34835,[],\"\"]\n:HL[\"/_next/static/media/a34f9d1faa5f3315-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/css/56593b524a1ee8d7.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"Nup1GNXi89SCM3Cojs4nY\",\"p\":\"\",\"c\":[\"\",\"articles\",\"pre-commit-checks\"],\"i\":false,\"f\":[[[\"\",{\"children\":[\"articles\",{\"children\":[[\"slug\",\"pre-commit-checks\",\"d\"],{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true],[\"\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/56593b524a1ee8d7.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[\"$\",\"body\",null,{\"className\":\"__className_d65c78 min-h-screen flex flex-col\",\"children\":[[\"$\",\"div\",null,{\"children\":[[\"$\",\"nav\",null,{\"className\":\"p-6\",\"children\":[\"$\",\"div\",null,{\"className\":\"max-w-4xl mx-auto flex justify-between items-center\",\"children\":[[\"$\",\"$L2\",null,{\"href\":\"/\",\"className\":\"text-[#005530] font-semibold text-xl\",\"children\":\"armandsauzay\"}],[\"$\",\"div\",null,{\"className\":\"flex gap-6\",\"children\":[[\"$\",\"$L2\",null,{\"href\":\"/articles\",\"className\":\"text-gray-600 hover:text-[#24512B] transition-colors flex items-center gap-2 cursor-pointer\",\"children\":[[\"$\",\"svg\",null,{\"ref\":\"$undefined\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-book-open h-5 w-5\",\"children\":[[\"$\",\"path\",\"1akyts\",{\"d\":\"M12 7v14\"}],[\"$\",\"path\",\"ruj8y\",{\"d\":\"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z\"}],\"$undefined\"]}],[\"$\",\"span\",null,{\"children\":\"Articles\"}]]}],[\"$\",\"$L2\",null,{\"href\":\"/projects\",\"className\":\"text-gray-600 hover:text-[#24512B] transition-colors flex items-center gap-2 cursor-pointer\",\"children\":[[\"$\",\"svg\",null,{\"ref\":\"$undefined\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-code-xml h-5 w-5\",\"children\":[[\"$\",\"path\",\"1inbqp\",{\"d\":\"m18 16 4-4-4-4\"}],[\"$\",\"path\",\"15zrgr\",{\"d\":\"m6 8-4 4 4 4\"}],[\"$\",\"path\",\"e7oirm\",{\"d\":\"m14.5 4-5 16\"}],\"$undefined\"]}],[\"$\",\"span\",null,{\"children\":\"Projects\"}]]}],[\"$\",\"$L2\",null,{\"href\":\"/creative-lab\",\"className\":\"text-gray-600 hover:text-[#24512B] transition-colors flex items-center gap-2 cursor-pointer\",\"children\":[[\"$\",\"svg\",null,{\"ref\":\"$undefined\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-brain h-5 w-5\",\"children\":[[\"$\",\"path\",\"l5xja\",{\"d\":\"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z\"}],[\"$\",\"path\",\"ep3f8r\",{\"d\":\"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z\"}],[\"$\",\"path\",\"1p4c4q\",{\"d\":\"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4\"}],[\"$\",\"path\",\"tmeiqw\",{\"d\":\"M17.599 6.5a3 3 0 0 0 .399-1.375\"}],[\"$\",\"path\",\"105sqy\",{\"d\":\"M6.003 5.125A3 3 0 0 0 6.401 6.5\"}],[\"$\",\"path\",\"ql3yin\",{\"d\":\"M3.477 10.896a4 4 0 0 1 .585-.396\"}],[\"$\",\"path\",\"1qfode\",{\"d\":\"M19.938 10.5a4 4 0 0 1 .585.396\"}],[\"$\",\"path\",\"2e4loj\",{\"d\":\"M6 18a4 4 0 0 1-1.967-.516\"}],[\"$\",\"path\",\"159ez6\",{\"d\":\"M19.967 17.484A4 4 0 0 1 18 18\"}],\"$undefined\"]}],[\"$\",\"span\",null,{\"children\":\"Creative Lab\"}]]}]]}]]}]}],[\"$\",\"div\",null,{\"className\":\"max-w-4xl mx-auto border-b border-gray-200\"}]]}],[\"$\",\"main\",null,{\"className\":\"flex-1 flex flex-col items-center justify-center\",\"children\":[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[],[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}],[\"$\",\"footer\",null,{\"className\":\"w-full flex justify-center items-center gap-4 p-6 text-sm text-gray-500 mt-auto\",\"children\":[[\"$\",\"div\",null,{\"className\":\"flex gap-8 items-center \",\"children\":[[\"$\",\"$L2\",null,{\"href\":\"https://github.com/armand-sauzay\",\"className\":\"text-gray-500 hover:text-[#24512B] transition-transform transform hover:scale-110 \",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"children\":[[\"$\",\"svg\",null,{\"ref\":\"$undefined\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-github h-4 w-4\",\"style\":{\"width\":16,\"height\":16},\"children\":[[\"$\",\"path\",\"tonef\",{\"d\":\"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4\"}],[\"$\",\"path\",\"9comsn\",{\"d\":\"M9 18c-4.51 2-5-2-7-2\"}],\"$undefined\"]}],[\"$\",\"span\",null,{\"className\":\"sr-only\",\"children\":\"GitHub\"}]]}],[\"$\",\"$L2\",null,{\"href\":\"https://linkedin.com/in/armandsauzay\",\"className\":\"text-gray-500 hover:text-[#24512B] transition-transform transform hover:scale-110 \",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"children\":[[\"$\",\"svg\",null,{\"ref\":\"$undefined\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-linkedin h-4 w-4\",\"style\":{\"width\":16,\"height\":16},\"children\":[[\"$\",\"path\",\"c2jq9f\",{\"d\":\"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z\"}],[\"$\",\"rect\",\"mk3on5\",{\"width\":\"4\",\"height\":\"12\",\"x\":\"2\",\"y\":\"9\"}],[\"$\",\"circle\",\"bt5ra8\",{\"cx\":\"4\",\"cy\":\"4\",\"r\":\"2\"}],\"$undefined\"]}],[\"$\",\"span\",null,{\"className\":\"sr-only\",\"children\":\"LinkedIn\"}]]}],[\"$\",\"$L2\",null,{\"href\":\"mailto:sauzayarmand@gmail.com\",\"className\":\"text-gray-500 hover:text-[#24512B] transition-transform transform hover:scale-110 \",\"children\":[[\"$\",\"svg\",null,{\"ref\":\"$undefined\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-mail h-4 w-4\",\"style\":{\"width\":16,\"height\":16},\"children\":[[\"$\",\"rect\",\"18n3k1\",{\"width\":\"20\",\"height\":\"16\",\"x\":\"2\",\"y\":\"4\",\"rx\":\"2\"}],[\"$\",\"path\",\"1ocrg3\",{\"d\":\"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7\"}],\"$undefined\"]}],[\"$\",\"span\",null,{\"className\":\"sr-only\",\"children\":\"Email\"}]]}]]}],[\"$\",\"span\",null,{\"className\":\"text-gray-400\",\"children\":\"Â© armand sauzay\"}]]}]]}]}]]}],{\"children\":[\"articles\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"articles\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"slug\",\"pre-commit-checks\",\"d\"],[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"articles\",\"children\",\"$0:f:0:1:2:children:2:children:0\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"__PAGE__\",[\"$\",\"$1\",\"c\",{\"children\":[\"$L5\",null,[\"$\",\"$L6\",null,{\"children\":\"$L7\"}]]}],{},null,false]},null,false]},null,false]},null,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$1\",\"dRTtzXPpXgFGafFFoCF1D\",{\"children\":[[\"$\",\"$L8\",null,{\"children\":\"$L9\"}],[\"$\",\"$La\",null,{\"children\":\"$Lb\"}],[\"$\",\"meta\",null,{\"name\":\"next-size-adjust\",\"content\":\"\"}]]}]]}],false]],\"m\":\"$undefined\",\"G\":[\"$c\",\"$undefined\"],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"b:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n9:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"1\",{\"children\":\"Armand Sauzay\"}],[\"$\",\"meta\",\"2\",{\"name\":\"description\",\"content\":\"Personal website of Armand Sauzay\"}],[\"$\",\"link\",\"3\",{\"rel\":\"icon\",\"href\":\"/favicon.ico\"}]]\n"])</script><script>self.__next_f.push([1,"7:null\n"])</script><script>self.__next_f.push([1,"d:I[95958,[\"313\",\"static/chunks/313-6cc61c2fd8ca5084.js\",\"904\",\"static/chunks/app/articles/%5Bslug%5D/page-444914622aa9eeee.js\"],\"default\"]\ne:T1241,"])</script><script>self.__next_f.push([1,"\n# Pre-commit checks to format your files and commitÂ messages\nStop committing wrongly formatted code and start using pre-commit checks.\n\n![](https://miro.medium.com/max/1400/1*-zO5GC_wdGUDuOb6R-IelA.webp)\n\u003ccenter\u003ePhoto by Roman Synkevych ðŸ‡ºðŸ‡¦ onÂ Unsplash \u003c/center\u003e\n\n## Introduction\n\nHow many times have you seen a commit message like 'test' or 'modif' or 'reran notebook'?\n\nCommit messages can be very useful and their format can help get the relevant information in a simple look. This is what conventional commits is trying to achieve: standardize the commit format to be able to navigate through commits easily and understand what code update they were associated to. But how could we make sure all commits followed this format?\n\nFile formatting can also be quite challenging when more than one person works on a GitHub repository. How could we make sure that all the files committed to a repository have the same format? Or that you do have the extra empty line at the end of your file that some system require to successfully run?\n\nThis is where standardization makes our life easier, especially when enforced before the commits: black formatting for python, getting rid of trailing whitespaces, etc.\n\nLong story short, all the formatting issues that you might had to deal with or that created useless commits could be avoided by using pre-commit checks.\n\nWithout further due, let's see how we can implement these concepts to an actual GitHub repository (if you need more context on conventional commits feel free to skip to the appendix and come back here after).\n\n---\n\u003ccenter\u003e\n\nAll of the code for this tutorial can be foundÂ [here](https://github.com/armand-sauzay/blog-posts/pre-commit-checks-to-format-your-files-and-commit-messages)\n\u003c/center\u003e\n\n---\n\n## Get started with pre-commit checks\n### Step 1: Install pre-commit\nTo install pre-commit, simply run\n``` bash\nbrew install pre-commit\n```\nThis will install pre-commit on your machine.\n\n### Step 2: Add pre-commit checks to your repo\n\nTo be able to add pre-commit checks that make sure your files and commit messages are correctly formatted, you simply need to add __2 files__ at the root of your repo:\n- __.pre-commit-config.yaml__: defines the checks you want to run\n- __.commitlintrc.yaml__: defines the npm package you use for pre commits.\n\n``` yaml\n# .commitlintrc.yaml\nextends:\n  - \"@open-turo/commitlint-config-conventional\"\n```\n\n\n``` yaml\n# .pre-commit-config.yaml\nrepos:\n  - repo: https://github.com/pre-commit/pre-commit-hooks\n    rev: v2.3.0\n    hooks:\n    -   id: check-yaml\n    -   id: end-of-file-fixer\n    -   id: trailing-whitespace\n  - repo: https://github.com/alessandrojcm/commitlint-pre-commit-hook\n    rev: v8.0.0\n    hooks:\n      - id: commitlint\n        stages: [commit-msg]\n        additional_dependencies: [\"@open-turo/commitlint-config-conventional\"]\n```\n\nOnce you added those files, you can try adding a commit, the pre commit checks defined will make sure that:\n- yaml files are correctly formatted\n- files have an extra empty line at the end (this is considered best practice as some systems fail when this condition is not met)\n- get rid of trailing whitespaces\n- make sure that the commits follow the [conventional commits](https://www.conventionalcommits.org/en/v1.0.0/) format.\n\nTo see if this worked, try to commit those files to your repo with some commit message like\ngit commit -m 'feat: enabled pre-commit checks'\n\n---\n\nWoohoo! You now know how to add pre commit checks to your own repository to make sure your file format are consistent and your commit messages too!\n\n---\n\n## Apendix\n\n__Appendix 1__: A word on Conventional Commits\nWith conventional commits, the commit message should be structured as follows:\n```\n\u003ctype\u003e[optional scope]: \u003cdescription\u003e\n[optional body]\n[optional footer(s)]\n```\nFor example (from commit conventional docs):\n```\nfeat: allow provided config object to extend other configs\nBREAKING CHANGE: `extends` key in config file is now used for extending other config files\n```\n\n__Appendix 2__: adding a python code formatter to pre-commit checks\nAdditional content: if you want to add a python code formatter, like black, you can append to the end ofÂ .pre-commit-config.yaml\n``` yaml\n- repo: https://github.com/psf/black\n    rev: 21.12b0\n    hooks:\n    - id: black\n```\n\n## About me\nHey! ðŸ‘‹ I'm Armand Sauzay ([armandsauzay](https://twitter.com/armandsauzay)). You can find, follow or contact me on: \n\n- [Github](https://github.com/armand-sauzay) \n- [Twitter](https://twitter.com/armandsauzay)\n- [LinkedIn](https://www.linkedin.com/in/armand-sauzay-80a70b160/)\n- [Medium](https://medium.com/@armand-sauzay)\n- [Dev.to](https://dev.to/armandsauzay)"])</script><script>self.__next_f.push([1,"5:[\"$\",\"div\",null,{\"className\":\"min-h-screen flex flex-col\",\"children\":[\"$\",\"main\",null,{\"className\":\"flex-1 max-w-4xl mx-auto px-4 py-16\",\"children\":[\"$\",\"$Ld\",null,{\"markdown\":\"$e\",\"markdownUrl\":\"https://raw.githubusercontent.com/armand-sauzay/blog-posts/main/pre-commit-checks-to-format-your-files-and-commit-messages/README.md\"}]}]}]\n"])</script></body></html>