<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/a34f9d1faa5f3315-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" as="image" href="https://raw.githubusercontent.com/armand-sauzay/blog-posts/main/how-to-properly-setup-your-python-project/images/front-david-clode.jpeg"/><link rel="preload" as="image" href="https://raw.githubusercontent.com/armand-sauzay/blog-posts/main/how-to-properly-setup-your-python-project/images/pre-commit.png"/><link rel="preload" as="image" href="https://raw.githubusercontent.com/armand-sauzay/blog-posts/main/how-to-properly-setup-your-python-project/images/remote-checks.png"/><link rel="preload" as="image" href="https://raw.githubusercontent.com/armand-sauzay/blog-posts/main/how-to-properly-setup-your-python-project/images/release.png"/><link rel="preload" as="image" href="https://raw.githubusercontent.com/FortAwesome/Font-Awesome/6.x/svgs/brands/github.svg"/><link rel="preload" as="image" href="https://raw.githubusercontent.com/FortAwesome/Font-Awesome/6.x/svgs/brands/twitter.svg"/><link rel="preload" as="image" href="https://raw.githubusercontent.com/FortAwesome/Font-Awesome/6.x/svgs/brands/linkedin.svg"/><link rel="preload" as="image" href="https://raw.githubusercontent.com/FortAwesome/Font-Awesome/6.x/svgs/solid/globe.svg"/><link rel="preload" as="image" href="https://raw.githubusercontent.com/FortAwesome/Font-Awesome/6.x/svgs/brands/medium.svg"/><link rel="preload" as="image" href="https://raw.githubusercontent.com/FortAwesome/Font-Awesome/6.x/svgs/brands/dev.svg"/><link rel="stylesheet" href="/_next/static/css/56593b524a1ee8d7.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-87b4446f5aacfc58.js"/><script src="/_next/static/chunks/4bd1b696-d0010192273b2f08.js" async=""></script><script src="/_next/static/chunks/517-34c25e9c69b3332f.js" async=""></script><script src="/_next/static/chunks/main-app-a6b2e7fa0ef815fd.js" async=""></script><script src="/_next/static/chunks/173-24113e259ce525da.js" async=""></script><script src="/_next/static/chunks/app/articles/page-9a53c5301fbc680c.js" async=""></script><script src="/_next/static/chunks/313-6cc61c2fd8ca5084.js" async=""></script><script src="/_next/static/chunks/app/articles/%5Bslug%5D/page-444914622aa9eeee.js" async=""></script><meta name="next-size-adjust" content=""/><title>Armand Sauzay</title><meta name="description" content="Personal website of Armand Sauzay"/><link rel="icon" href="/favicon.ico"/><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body class="__className_d65c78 min-h-screen flex flex-col"><div><nav class="p-6"><div class="max-w-4xl mx-auto flex justify-between items-center"><a class="text-[#005530] font-semibold text-xl" href="/">armandsauzay</a><div class="flex gap-6"><a class="text-gray-600 hover:text-[#24512B] transition-colors flex items-center gap-2 cursor-pointer" href="/articles"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-book-open h-5 w-5"><path d="M12 7v14"></path><path d="M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z"></path></svg><span>Articles</span></a><a class="text-gray-600 hover:text-[#24512B] transition-colors flex items-center gap-2 cursor-pointer" href="/projects"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-code-xml h-5 w-5"><path d="m18 16 4-4-4-4"></path><path d="m6 8-4 4 4 4"></path><path d="m14.5 4-5 16"></path></svg><span>Projects</span></a><a class="text-gray-600 hover:text-[#24512B] transition-colors flex items-center gap-2 cursor-pointer" href="/creative-lab"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-brain h-5 w-5"><path d="M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z"></path><path d="M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z"></path><path d="M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4"></path><path d="M17.599 6.5a3 3 0 0 0 .399-1.375"></path><path d="M6.003 5.125A3 3 0 0 0 6.401 6.5"></path><path d="M3.477 10.896a4 4 0 0 1 .585-.396"></path><path d="M19.938 10.5a4 4 0 0 1 .585.396"></path><path d="M6 18a4 4 0 0 1-1.967-.516"></path><path d="M19.967 17.484A4 4 0 0 1 18 18"></path></svg><span>Creative Lab</span></a></div></div></nav><div class="max-w-4xl mx-auto border-b border-gray-200"></div></div><main class="flex-1 flex flex-col items-center justify-center"><div class="min-h-screen flex flex-col"><main class="flex-1 max-w-4xl mx-auto px-4 py-16"><article class="prose prose-neutral max-w-2xl mx-auto p-6 prose-pre:border-0"><h1 id="how-to-properly-setup-your-python-project">How to properly setup your Python project</h1>
<p>This article is published on:</p>
<ul>
<li><a href="https://medium.com/@armand-sauzay/how-to-properly-setup-your-python-project-c81f7036b766">Medium</a></li>
<li><a href="https://dev.to/armandsauzay/how-to-properly-setup-your-python-project-3fng">Devto</a></li>
</ul>
<p>Industry best practices to kickstart your python project.
<img src="https://raw.githubusercontent.com/armand-sauzay/blog-posts/main/how-to-properly-setup-your-python-project/images/front-david-clode.jpeg" alt="How to properly setup your Python project" node="[object Object]"/></p>
<p align="center">Photo by David Clode on¬†Unsplash</p>
<p>As you start working on your python project, you will likely need to set it up
in a consistent and collaboration-friendly way. In this article, I&#x27;ll describe a
setup that works great for my projects. It includes many industry best practices
and aims at explaining how to install python, run automated checks in a GitOps
fashion and structure your project.</p>
<p>This article covers quite a few topics. To ease the reading, I&#x27;ve split each topic into two parts:</p>
<ul>
<li>üìö indicates the <strong>theory</strong> part</li>
<li>üõ†Ô∏è indicates the <strong>practical</strong> part (i.e. the commands you need to run).</li>
</ul>
<p>Sometimes you will also see a üí° section, indicating a tip or a trick.</p>
<h2 id="table-of-contents">Table of Contents</h2>
<ol>
<li><a href="#1-install-a-python-version-manager">Install a Python version manager</a></li>
<li><a href="#2-choose-an-environment-manager-poetry">Choose an environment manager (poetry)</a></li>
<li><a href="#3-alternatively-use-docker-as-a-dev-environment-instead">Alternatively, use Docker as a Dev Environment instead</a></li>
<li><a href="#4-add-some-code">Add Some Code</a></li>
<li><a href="#5-write-some-tests">Write Some Tests</a></li>
<li><a href="#6-lint-your-code">Lint your code</a></li>
<li><a href="#7-automate-checks-on-local-with-pre-commit">Automate checks on local with pre-commit</a></li>
<li><a href="#8-automate-checks-on-remote-with-github-actions">Automate checks on remote with GitHub Actions</a></li>
<li><a href="#9-automate-your-release-with-github-actions">Automate your release with GitHub Actions</a></li>
<li><a href="#10-enjoy-the-benefits-of-your-new-code-practices">Enjoy the benefits of your new code practices</a></li>
</ol>
<h2 id="1-install-a-python-version-manager">1. Install a Python version manager</h2>
<p>üìö The first thing you will need to do is to install a python version manager. A
python version manager will allow you to install multiple versions of python on
your machine and switch between them easily.</p>
<p>To illustrate this, let&#x27;s say you have a project that requires python 3.6 and
another project that requires python 3.7. If you only have python 3.7 installed
on your machine, you will have to uninstall it and install python 3.6 every time
you want to work on the first project... This is where a python version manager
comes in handy.</p>
<p>You can use <a href="https://github.com/pyenv/pyenv">pyenv</a> for this and follow the
<a href="https://github.com/pyenv/pyenv#installation">installation instructions</a>.</p>
<p>üõ†Ô∏è At the time of writing this document, you can install pyenv by running the
following:</p>
<pre><div style="position:relative"><button aria-label="Copy code" style="position:absolute;top:8px;right:8px;z-index:10;background:none;border:none;padding:0;cursor:pointer;opacity:0.7;transition:opacity 0.2s"><svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><rect x="9" y="9" width="13" height="13" rx="2" ry="2" stroke="currentColor"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg></button><pre style="background:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:0.5em 0;overflow:auto;border-radius:0.3em"><code class="language-bash" style="white-space:pre;background:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:hsl(221, 87%, 60%)">curl</span><span> https://pyenv.run </span><span class="token" style="color:hsl(221, 87%, 60%)">|</span><span> </span><span class="token" style="color:hsl(221, 87%, 60%)">bash</span></code></pre></div></pre>
<p>If you want more control over the installation, on mac for instance you can run:</p>
<ol>
<li>
<p>Use brew to install pyenv</p>
<pre><div style="position:relative"><button aria-label="Copy code" style="position:absolute;top:8px;right:8px;z-index:10;background:none;border:none;padding:0;cursor:pointer;opacity:0.7;transition:opacity 0.2s"><svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><rect x="9" y="9" width="13" height="13" rx="2" ry="2" stroke="currentColor"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg></button><pre style="background:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:0.5em 0;overflow:auto;border-radius:0.3em"><code class="language-bash" style="white-space:pre;background:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>brew </span><span class="token" style="color:hsl(221, 87%, 60%)">install</span><span> pyenv</span></code></pre></div></pre>
</li>
<li>
<p>Depending on the shell you use, add pyenv to your PATH.</p>
<p>üí° If you&#x27;re not sure which shell you&#x27;re using, you can run the following command:</p>
<pre><div style="position:relative"><button aria-label="Copy code" style="position:absolute;top:8px;right:8px;z-index:10;background:none;border:none;padding:0;cursor:pointer;opacity:0.7;transition:opacity 0.2s"><svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><rect x="9" y="9" width="13" height="13" rx="2" ry="2" stroke="currentColor"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg></button><pre style="background:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:0.5em 0;overflow:auto;border-radius:0.3em"><code class="language-bash" style="white-space:pre;background:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:hsl(35, 99%, 36%)">echo</span><span> </span><span class="token environment" style="color:hsl(35, 99%, 36%)">$SHELL</span></code></pre></div></pre>
<p>For bash:</p>
<pre><div style="position:relative"><button aria-label="Copy code" style="position:absolute;top:8px;right:8px;z-index:10;background:none;border:none;padding:0;cursor:pointer;opacity:0.7;transition:opacity 0.2s"><svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><rect x="9" y="9" width="13" height="13" rx="2" ry="2" stroke="currentColor"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg></button><pre style="background:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:0.5em 0;overflow:auto;border-radius:0.3em"><code class="language-bash" style="white-space:pre;background:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:hsl(35, 99%, 36%)">echo</span><span> </span><span class="token" style="color:hsl(119, 34%, 47%)">&#x27;export PYENV_ROOT=&quot;$HOME/.pyenv&quot;&#x27;</span><span> </span><span class="token" style="color:hsl(221, 87%, 60%)">&gt;&gt;</span><span> ~/.bashrc
</span><span></span><span class="token" style="color:hsl(35, 99%, 36%)">echo</span><span> </span><span class="token" style="color:hsl(119, 34%, 47%)">&#x27;command -v pyenv &gt;/dev/null || export PATH=&quot;$PYENV_ROOT/bin:$PATH&quot;&#x27;</span><span> </span><span class="token" style="color:hsl(221, 87%, 60%)">&gt;&gt;</span><span> ~/.bashrc
</span><span></span><span class="token" style="color:hsl(35, 99%, 36%)">echo</span><span> </span><span class="token" style="color:hsl(119, 34%, 47%)">&#x27;eval &quot;$(pyenv init -)&quot;&#x27;</span><span> </span><span class="token" style="color:hsl(221, 87%, 60%)">&gt;&gt;</span><span> ~/.bashrc</span></code></pre></div></pre>
<p>For zsh:</p>
<pre><div style="position:relative"><button aria-label="Copy code" style="position:absolute;top:8px;right:8px;z-index:10;background:none;border:none;padding:0;cursor:pointer;opacity:0.7;transition:opacity 0.2s"><svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><rect x="9" y="9" width="13" height="13" rx="2" ry="2" stroke="currentColor"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg></button><pre style="background:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:0.5em 0;overflow:auto;border-radius:0.3em"><code class="language-bash" style="white-space:pre;background:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:hsl(35, 99%, 36%)">echo</span><span> </span><span class="token" style="color:hsl(119, 34%, 47%)">&#x27;export PYENV_ROOT=&quot;$HOME/.pyenv&quot;&#x27;</span><span> </span><span class="token" style="color:hsl(221, 87%, 60%)">&gt;&gt;</span><span> ~/.zshrc
</span><span></span><span class="token" style="color:hsl(35, 99%, 36%)">echo</span><span> </span><span class="token" style="color:hsl(119, 34%, 47%)">&#x27;command -v pyenv &gt;/dev/null || export PATH=&quot;$PYENV_ROOT/bin:$PATH&quot;&#x27;</span><span> </span><span class="token" style="color:hsl(221, 87%, 60%)">&gt;&gt;</span><span> ~/.zshrc
</span><span></span><span class="token" style="color:hsl(35, 99%, 36%)">echo</span><span> </span><span class="token" style="color:hsl(119, 34%, 47%)">&#x27;eval &quot;$(pyenv init -)&quot;&#x27;</span><span> </span><span class="token" style="color:hsl(221, 87%, 60%)">&gt;&gt;</span><span> ~/.zshrc</span></code></pre></div></pre>
</li>
</ol>
<h2 id="2-choose-an-environment-manager-poetry">2. Choose an environment manager (poetry)</h2>
<p>üìö Now that you have a python version manager, you will need to install an
environment manager. An environment manager will allow you to create isolated
environments for your projects. This is useful when you work on multiple
projects that require different versions of the same package. And it is a great
practice overall to make sure anyone can run your project.</p>
<p>To illustrate this, let&#x27;s say you have a project that requires <code node="[object Object]">pandas</code> and
<code node="[object Object]">matplotlib</code> to do some data analysis and another project that requires
<code node="[object Object]">tensorflow</code> to do some machine learning. It is considered a good practice to
create a separate environment for each project. This way, you can install
only the packages you need for each project and avoid any conflicts between
packages.</p>
<p>There are many environment managers (pipenv, conda, virtualenv, python
built-in venv, etc...). I personally use <a href="https://python-poetry.org/">poetry</a>.</p>
<p>In general, your environment manager will be installed with your python version.
For instance, if you use pyenv, you can install poetry by running the following command:</p>
<pre><div style="position:relative"><button aria-label="Copy code" style="position:absolute;top:8px;right:8px;z-index:10;background:none;border:none;padding:0;cursor:pointer;opacity:0.7;transition:opacity 0.2s"><svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><rect x="9" y="9" width="13" height="13" rx="2" ry="2" stroke="currentColor"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg></button><pre style="background:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:0.5em 0;overflow:auto;border-radius:0.3em"><code class="language-bash" style="white-space:pre;background:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>pyenv </span><span class="token" style="color:hsl(221, 87%, 60%)">install</span><span> </span><span class="token" style="color:hsl(35, 99%, 36%)">3.10</span><span>.6
</span><span>pyenv global </span><span class="token" style="color:hsl(35, 99%, 36%)">3.10</span><span>.6
</span><span>pip </span><span class="token" style="color:hsl(221, 87%, 60%)">install</span><span> poetry</span></code></pre></div></pre>
<p>In this case, poetry will live in your python environment. This means that
you can have a different version of poetry for each python version you have
installed on your machine.</p>
<p>üõ†Ô∏è Pip installing poetry in your python environment with pip is one way to do it but you can also follow the steps below:</p>
<ol>
<li>
<p>Use the curl command to install poetry</p>
<pre><div style="position:relative"><button aria-label="Copy code" style="position:absolute;top:8px;right:8px;z-index:10;background:none;border:none;padding:0;cursor:pointer;opacity:0.7;transition:opacity 0.2s"><svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><rect x="9" y="9" width="13" height="13" rx="2" ry="2" stroke="currentColor"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg></button><pre style="background:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:0.5em 0;overflow:auto;border-radius:0.3em"><code class="language-bash" style="white-space:pre;background:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:hsl(221, 87%, 60%)">curl</span><span> -sSL https://install.python-poetry.org </span><span class="token" style="color:hsl(221, 87%, 60%)">|</span><span> python3 -</span></code></pre></div></pre>
</li>
<li>
<p>Add poetry to your PATH. On MacOS, poetry is added at <code node="[object Object]">~/Library/Application Support/pypoetry/venv/bin/poetry</code>. So you can add it to your PATH by adding the
following line to your ~/.bashrc or ~/.zshrc file:</p>
<pre><div style="position:relative"><button aria-label="Copy code" style="position:absolute;top:8px;right:8px;z-index:10;background:none;border:none;padding:0;cursor:pointer;opacity:0.7;transition:opacity 0.2s"><svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><rect x="9" y="9" width="13" height="13" rx="2" ry="2" stroke="currentColor"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg></button><pre style="background:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:0.5em 0;overflow:auto;border-radius:0.3em"><code class="language-bash" style="white-space:pre;background:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:hsl(35, 99%, 36%)">export</span><span> </span><span class="token assign-left environment" style="color:hsl(35, 99%, 36%)">PATH</span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;</span><span class="token environment" style="color:hsl(35, 99%, 36%)">$HOME</span><span class="token" style="color:hsl(119, 34%, 47%)">/Library/Application Support/pypoetry/venv/bin:</span><span class="token environment" style="color:hsl(35, 99%, 36%)">$PATH</span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;</span></code></pre></div></pre>
<p>If you are using a different shell, you can find the path to poetry by running the following command:</p>
<pre><div style="position:relative"><button aria-label="Copy code" style="position:absolute;top:8px;right:8px;z-index:10;background:none;border:none;padding:0;cursor:pointer;opacity:0.7;transition:opacity 0.2s"><svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><rect x="9" y="9" width="13" height="13" rx="2" ry="2" stroke="currentColor"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg></button><pre style="background:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:0.5em 0;overflow:auto;border-radius:0.3em"><code class="language-bash" style="white-space:pre;background:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>poetry config --list --local </span><span class="token" style="color:hsl(221, 87%, 60%)">|</span><span> </span><span class="token" style="color:hsl(221, 87%, 60%)">grep</span><span> virtualenvs.path</span></code></pre></div></pre>
<p>And then add it to your PATH.</p>
</li>
</ol>
<h2 id="3-alternatively-use-docker-as-a-dev-environment-instead">3. Alternatively, use Docker as a Dev Environment instead</h2>
<p>If you don&#x27;t want to install a python version manager and an environment
manager, or want to abstract this for your team, you can use Docker instead. I
won&#x27;t go into too many details here but if you&#x27;re interested, VSCode has a great
<a href="https://code.visualstudio.com/docs/devcontainers/containers">integration with
Docker</a></p>
<h2 id="4-add-some-code">4. Add Some Code</h2>
<p>üìö Now that you have a python version manager and an environment manager, you
can start working on your project. Let&#x27;s write some simple functions to get
started. For illustration purposes we&#x27;ll create a simple CLI that prints &quot;Hello
<code node="[object Object]">&lt;name&gt;</code>&quot; when you run it and give how many repositories <code node="[object Object]">&lt;name&gt;</code> has on GitHub.</p>
<p>üí° By default, poetry wants you to create a package with a folder named as your
git repository (with the only difference that it wants underscores instead of dashes). So if your git
repository is called <code node="[object Object]">python-project-template</code>, poetry will create a folder
called <code node="[object Object]">python_project_template</code>.</p>
<p>üí° You can find the code for this section at <a href="https://github.com/armand-sauzay/hello-world-cli">armand-sauzay/hello-world-cli</a></p>
<p>In this case let&#x27;s call our project <code node="[object Object]">hello-world</code>. So we&#x27;ll create a folder
called <code node="[object Object]">hello_world</code> and add a file called <code node="[object Object]">__init__.py</code> to it.</p>
<p>üõ†Ô∏è Use gh to create a new repository called <code node="[object Object]">hello-world</code> and clone it to your
machine:</p>
<pre><div style="position:relative"><button aria-label="Copy code" style="position:absolute;top:8px;right:8px;z-index:10;background:none;border:none;padding:0;cursor:pointer;opacity:0.7;transition:opacity 0.2s"><svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><rect x="9" y="9" width="13" height="13" rx="2" ry="2" stroke="currentColor"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg></button><pre style="background:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:0.5em 0;overflow:auto;border-radius:0.3em"><code class="language-bash" style="white-space:pre;background:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>gh repo create </span><span class="token" style="color:hsl(221, 87%, 60%)">&lt;</span><span>your-github-username</span><span class="token" style="color:hsl(221, 87%, 60%)">&gt;</span><span>/hello-world-cli --template armand-sauzay/python-template --public</span></code></pre></div></pre>
<p>To initialize your project, run the following command (it comes from the template above):</p>
<pre><div style="position:relative"><button aria-label="Copy code" style="position:absolute;top:8px;right:8px;z-index:10;background:none;border:none;padding:0;cursor:pointer;opacity:0.7;transition:opacity 0.2s"><svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><rect x="9" y="9" width="13" height="13" rx="2" ry="2" stroke="currentColor"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg></button><pre style="background:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:0.5em 0;overflow:auto;border-radius:0.3em"><code class="language-bash" style="white-space:pre;background:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>./script/bootstrap</span></code></pre></div></pre>
<p>Add the requests package to your project:</p>
<pre><div style="position:relative"><button aria-label="Copy code" style="position:absolute;top:8px;right:8px;z-index:10;background:none;border:none;padding:0;cursor:pointer;opacity:0.7;transition:opacity 0.2s"><svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><rect x="9" y="9" width="13" height="13" rx="2" ry="2" stroke="currentColor"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg></button><pre style="background:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:0.5em 0;overflow:auto;border-radius:0.3em"><code class="language-bash" style="white-space:pre;background:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>poetry </span><span class="token" style="color:hsl(221, 87%, 60%)">add</span><span> requests</span></code></pre></div></pre>
<p>So far, we ran the following commands:</p>
<pre><div style="position:relative"><button aria-label="Copy code" style="position:absolute;top:8px;right:8px;z-index:10;background:none;border:none;padding:0;cursor:pointer;opacity:0.7;transition:opacity 0.2s"><svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><rect x="9" y="9" width="13" height="13" rx="2" ry="2" stroke="currentColor"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg></button><pre style="background:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:0.5em 0;overflow:auto;border-radius:0.3em"><code class="language-bash" style="white-space:pre;background:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>pyenv </span><span class="token" style="color:hsl(221, 87%, 60%)">install</span><span> </span><span class="token" style="color:hsl(35, 99%, 36%)">3.10</span><span>.6 </span><span class="token" style="color:hsl(230, 4%, 64%);font-style:italic"># install python 3.10.6</span><span>
</span><span>pyenv global </span><span class="token" style="color:hsl(35, 99%, 36%)">3.10</span><span>.6 </span><span class="token" style="color:hsl(230, 4%, 64%);font-style:italic"># (optional) set python 3.10.6 as the default python version</span><span>
</span><span>pip </span><span class="token" style="color:hsl(221, 87%, 60%)">install</span><span> poetry </span><span class="token" style="color:hsl(230, 4%, 64%);font-style:italic"># install poetry as a python package in your python 3.10.6 environment</span><span>
</span><span>poetry </span><span class="token" style="color:hsl(221, 87%, 60%)">add</span><span> requests </span><span class="token" style="color:hsl(230, 4%, 64%);font-style:italic"># add the requests package to your project</span></code></pre></div></pre>
<p>In <code node="[object Object]">hello_world_cli</code> folder a file called <code node="[object Object]">main.py</code> and add the following code to it:</p>
<pre><div style="position:relative"><button aria-label="Copy code" style="position:absolute;top:8px;right:8px;z-index:10;background:none;border:none;padding:0;cursor:pointer;opacity:0.7;transition:opacity 0.2s"><svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><rect x="9" y="9" width="13" height="13" rx="2" ry="2" stroke="currentColor"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg></button><pre style="background:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:0.5em 0;overflow:auto;border-radius:0.3em"><code class="language-python" style="white-space:pre;background:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:hsl(301, 63%, 40%)">import</span><span> argparse
</span><span></span><span class="token" style="color:hsl(301, 63%, 40%)">import</span><span> requests
</span>
<!-- -->
<span></span><span class="token" style="color:hsl(301, 63%, 40%)">def</span><span> </span><span class="token" style="color:hsl(221, 87%, 60%)">main</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span>argv</span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span class="token" style="color:hsl(35, 99%, 36%)">None</span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span> </span><span class="token" style="color:hsl(221, 87%, 60%)">-</span><span class="token" style="color:hsl(221, 87%, 60%)">&gt;</span><span> </span><span class="token" style="color:hsl(119, 34%, 47%)">int</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span>    parser </span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span> argparse</span><span class="token" style="color:hsl(230, 8%, 24%)">.</span><span>ArgumentParser</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span>
</span><span>    parser</span><span class="token" style="color:hsl(230, 8%, 24%)">.</span><span>add_argument</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span>
</span><span>        </span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;--name&quot;</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span> </span><span class="token" style="color:hsl(119, 34%, 47%)">help</span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;The name to greet and count repos for&quot;</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span> default</span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;world&quot;</span><span>
</span><span>    </span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span>
</span><span>    args </span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span> parser</span><span class="token" style="color:hsl(230, 8%, 24%)">.</span><span>parse_args</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span>argv</span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span>
</span><span>    </span><span class="token" style="color:hsl(301, 63%, 40%)">if</span><span> args</span><span class="token" style="color:hsl(230, 8%, 24%)">.</span><span>name </span><span class="token" style="color:hsl(221, 87%, 60%)">==</span><span> </span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;&quot;</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span>        </span><span class="token" style="color:hsl(301, 63%, 40%)">print</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;Username cannot be empty&quot;</span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span>
</span><span>        </span><span class="token" style="color:hsl(301, 63%, 40%)">return</span><span> </span><span class="token" style="color:hsl(35, 99%, 36%)">1</span><span>
</span>
<span>    </span><span class="token" style="color:hsl(301, 63%, 40%)">print</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span class="token string-interpolation" style="color:hsl(119, 34%, 47%)">f&quot;Hello </span><span class="token string-interpolation interpolation" style="color:hsl(230, 8%, 24%)">{</span><span class="token string-interpolation interpolation">args</span><span class="token string-interpolation interpolation" style="color:hsl(230, 8%, 24%)">.</span><span class="token string-interpolation interpolation">name</span><span class="token string-interpolation interpolation" style="color:hsl(230, 8%, 24%)">}</span><span class="token string-interpolation" style="color:hsl(119, 34%, 47%)">!&quot;</span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span>
</span>
<span>    repos </span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span> requests</span><span class="token" style="color:hsl(230, 8%, 24%)">.</span><span>get</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span class="token string-interpolation" style="color:hsl(119, 34%, 47%)">f&quot;https://api.github.com/users/</span><span class="token string-interpolation interpolation" style="color:hsl(230, 8%, 24%)">{</span><span class="token string-interpolation interpolation">args</span><span class="token string-interpolation interpolation" style="color:hsl(230, 8%, 24%)">.</span><span class="token string-interpolation interpolation">name</span><span class="token string-interpolation interpolation" style="color:hsl(230, 8%, 24%)">}</span><span class="token string-interpolation" style="color:hsl(119, 34%, 47%)">/repos&quot;</span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span>
</span><span>    </span><span class="token" style="color:hsl(301, 63%, 40%)">if</span><span> repos</span><span class="token" style="color:hsl(230, 8%, 24%)">.</span><span>status_code </span><span class="token" style="color:hsl(221, 87%, 60%)">!=</span><span> </span><span class="token" style="color:hsl(35, 99%, 36%)">200</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span>        </span><span class="token" style="color:hsl(301, 63%, 40%)">print</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span class="token string-interpolation" style="color:hsl(119, 34%, 47%)">f&quot;Failed to fetch repos for </span><span class="token string-interpolation interpolation" style="color:hsl(230, 8%, 24%)">{</span><span class="token string-interpolation interpolation">args</span><span class="token string-interpolation interpolation" style="color:hsl(230, 8%, 24%)">.</span><span class="token string-interpolation interpolation">name</span><span class="token string-interpolation interpolation" style="color:hsl(230, 8%, 24%)">}</span><span class="token string-interpolation" style="color:hsl(119, 34%, 47%)">&quot;</span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span>
</span><span>        </span><span class="token" style="color:hsl(301, 63%, 40%)">return</span><span> </span><span class="token" style="color:hsl(35, 99%, 36%)">1</span><span>
</span><span>    repos </span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span> repos</span><span class="token" style="color:hsl(230, 8%, 24%)">.</span><span>json</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span>
</span><span>    </span><span class="token" style="color:hsl(301, 63%, 40%)">print</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span class="token string-interpolation" style="color:hsl(119, 34%, 47%)">f&quot;You have </span><span class="token string-interpolation interpolation" style="color:hsl(230, 8%, 24%)">{</span><span class="token string-interpolation interpolation" style="color:hsl(119, 34%, 47%)">len</span><span class="token string-interpolation interpolation" style="color:hsl(230, 8%, 24%)">(</span><span class="token string-interpolation interpolation">repos</span><span class="token string-interpolation interpolation" style="color:hsl(230, 8%, 24%)">)</span><span class="token string-interpolation interpolation" style="color:hsl(230, 8%, 24%)">}</span><span class="token string-interpolation" style="color:hsl(119, 34%, 47%)"> repos.&quot;</span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span>  </span><span class="token" style="color:hsl(230, 4%, 64%);font-style:italic"># type: ignore</span><span>
</span><span>    </span><span class="token" style="color:hsl(301, 63%, 40%)">return</span><span> </span><span class="token" style="color:hsl(35, 99%, 36%)">0</span><span>
</span>
<!-- -->
<span></span><span class="token" style="color:hsl(301, 63%, 40%)">if</span><span> __name__ </span><span class="token" style="color:hsl(221, 87%, 60%)">==</span><span> </span><span class="token" style="color:hsl(119, 34%, 47%)">&quot;__main__&quot;</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span>    </span><span class="token" style="color:hsl(301, 63%, 40%)">raise</span><span> SystemExit</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span>main</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span>
</span></code></pre></div></pre>
<p>There are a few tricks here that are worth mentioning:</p>
<ul>
<li>We use <code node="[object Object]">argparse</code> to parse the arguments passed to our CLI. This is a built-in
python package that allows you to parse arguments passed to your CLI.</li>
<li>We use <code node="[object Object]">argv</code> to pass the arguments to our main function. This is useful for
testing purposes. We can pass a list of arguments to our main function and
test it without having to run the CLI.</li>
<li>We use <code node="[object Object]">SystemExit</code> to exit our program. This is a built-in python exception
that allows you to exit your program with a specific exit code (0 for success, 1 for failure).</li>
</ul>
<h2 id="5-write-some-tests">5. Write Some Tests</h2>
<p>üìö Now that you have a few basic methods, you can start writing some tests. Tests make sure your code behaves as expected. There
are many types of tests (unit tests, integration tests, end-to-end tests, etc...)
but in this article, we will focus on unit tests. Unit tests are tests that
check the smallest unit of your code (i.e. a function or a method).</p>
<p>üõ†Ô∏è Create a file called <code node="[object Object]">test_main.py</code> and add the following code to it:</p>
<pre><div style="position:relative"><button aria-label="Copy code" style="position:absolute;top:8px;right:8px;z-index:10;background:none;border:none;padding:0;cursor:pointer;opacity:0.7;transition:opacity 0.2s"><svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><rect x="9" y="9" width="13" height="13" rx="2" ry="2" stroke="currentColor"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg></button><pre style="background:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:0.5em 0;overflow:auto;border-radius:0.3em"><code class="language-python" style="white-space:pre;background:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:hsl(301, 63%, 40%)">from</span><span> hello_world_cli</span><span class="token" style="color:hsl(230, 8%, 24%)">.</span><span>cli </span><span class="token" style="color:hsl(301, 63%, 40%)">import</span><span> main
</span>
<span></span><span class="token" style="color:hsl(301, 63%, 40%)">def</span><span> </span><span class="token" style="color:hsl(221, 87%, 60%)">test_main</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span>capsys</span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span>    </span><span class="token" style="color:hsl(301, 63%, 40%)">assert</span><span> main</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span class="token" style="color:hsl(230, 8%, 24%)">[</span><span class="token" style="color:hsl(119, 34%, 47%)">&#x27;--name&#x27;</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span> </span><span class="token" style="color:hsl(119, 34%, 47%)">&#x27;test&#x27;</span><span class="token" style="color:hsl(230, 8%, 24%)">]</span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span> </span><span class="token" style="color:hsl(221, 87%, 60%)">==</span><span> </span><span class="token" style="color:hsl(35, 99%, 36%)">0</span><span>
</span><span>    out</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span> err </span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span> capsys</span><span class="token" style="color:hsl(230, 8%, 24%)">.</span><span>readouterr</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span>
</span><span>    </span><span class="token" style="color:hsl(230, 4%, 64%);font-style:italic"># test is a user which does not have any contributions since 2010. </span><span>
</span><span>    </span><span class="token" style="color:hsl(230, 4%, 64%);font-style:italic"># Hopefully this will not change in the future and the test will not break.</span><span>
</span><span>    </span><span class="token" style="color:hsl(301, 63%, 40%)">assert</span><span> out </span><span class="token" style="color:hsl(221, 87%, 60%)">==</span><span> </span><span class="token" style="color:hsl(119, 34%, 47%)">&#x27;Hello test!\nYou have 5 repos.\n&#x27;</span><span>
</span><span>    </span><span class="token" style="color:hsl(301, 63%, 40%)">assert</span><span> err </span><span class="token" style="color:hsl(221, 87%, 60%)">==</span><span> </span><span class="token" style="color:hsl(119, 34%, 47%)">&#x27;&#x27;</span><span>
</span>
<span></span><span class="token" style="color:hsl(301, 63%, 40%)">def</span><span> </span><span class="token" style="color:hsl(221, 87%, 60%)">test_main_empty_name</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span>capsys</span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span>    </span><span class="token" style="color:hsl(301, 63%, 40%)">assert</span><span> main</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span class="token" style="color:hsl(230, 8%, 24%)">[</span><span class="token" style="color:hsl(119, 34%, 47%)">&#x27;--name&#x27;</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span> </span><span class="token" style="color:hsl(119, 34%, 47%)">&#x27;&#x27;</span><span class="token" style="color:hsl(230, 8%, 24%)">]</span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span> </span><span class="token" style="color:hsl(221, 87%, 60%)">==</span><span> </span><span class="token" style="color:hsl(35, 99%, 36%)">1</span><span>
</span><span>    out</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span> err </span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span> capsys</span><span class="token" style="color:hsl(230, 8%, 24%)">.</span><span>readouterr</span><span class="token" style="color:hsl(230, 8%, 24%)">(</span><span class="token" style="color:hsl(230, 8%, 24%)">)</span><span>
</span><span>    </span><span class="token" style="color:hsl(301, 63%, 40%)">assert</span><span> out </span><span class="token" style="color:hsl(221, 87%, 60%)">==</span><span> </span><span class="token" style="color:hsl(119, 34%, 47%)">&#x27;Username cannot be empty\n&#x27;</span><span>
</span><span>    </span><span class="token" style="color:hsl(301, 63%, 40%)">assert</span><span> err </span><span class="token" style="color:hsl(221, 87%, 60%)">==</span><span> </span><span class="token" style="color:hsl(119, 34%, 47%)">&#x27;&#x27;</span></code></pre></div></pre>
<ul>
<li>We use <code node="[object Object]">capsys</code> to capture the output of our CLI. This is a pytest built-in that allows you to capture the output of your CLI.</li>
</ul>
<h2 id="6-lint-your-code">6. Lint your code</h2>
<p>üìö Now that you have some tests, you can start linting your code. Linting is the
process of checking your code for potential errors. There are many linters out
there (pylint, flake8, black, etc...). I personally use flake8, black, isort and
mypy. Ruff is also becoming quite popular and replaces flake8 and isort.</p>
<p>üõ†Ô∏è To install flake8, black, isort and mypy, you can run the following command:</p>
<pre><div style="position:relative"><button aria-label="Copy code" style="position:absolute;top:8px;right:8px;z-index:10;background:none;border:none;padding:0;cursor:pointer;opacity:0.7;transition:opacity 0.2s"><svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><rect x="9" y="9" width="13" height="13" rx="2" ry="2" stroke="currentColor"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg></button><pre style="background:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:0.5em 0;overflow:auto;border-radius:0.3em"><code class="language-bash" style="white-space:pre;background:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>poetry </span><span class="token" style="color:hsl(221, 87%, 60%)">add</span><span> --dev flake8 black isort mypy</span></code></pre></div></pre>
<p>Then you can use mypy to check your code:</p>
<pre><div style="position:relative"><button aria-label="Copy code" style="position:absolute;top:8px;right:8px;z-index:10;background:none;border:none;padding:0;cursor:pointer;opacity:0.7;transition:opacity 0.2s"><svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><rect x="9" y="9" width="13" height="13" rx="2" ry="2" stroke="currentColor"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg></button><pre style="background:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:0.5em 0;overflow:auto;border-radius:0.3em"><code class="language-bash" style="white-space:pre;background:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>poetry run mypy hello_world_cli/cli.py</span></code></pre></div></pre>
<p>You can use flake8 to check your code:</p>
<pre><div style="position:relative"><button aria-label="Copy code" style="position:absolute;top:8px;right:8px;z-index:10;background:none;border:none;padding:0;cursor:pointer;opacity:0.7;transition:opacity 0.2s"><svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><rect x="9" y="9" width="13" height="13" rx="2" ry="2" stroke="currentColor"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg></button><pre style="background:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:0.5em 0;overflow:auto;border-radius:0.3em"><code class="language-bash" style="white-space:pre;background:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>poetry run flake8 hello_world_cli/cli.py</span></code></pre></div></pre>
<p>You can use black to format your code:</p>
<pre><div style="position:relative"><button aria-label="Copy code" style="position:absolute;top:8px;right:8px;z-index:10;background:none;border:none;padding:0;cursor:pointer;opacity:0.7;transition:opacity 0.2s"><svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><rect x="9" y="9" width="13" height="13" rx="2" ry="2" stroke="currentColor"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg></button><pre style="background:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:0.5em 0;overflow:auto;border-radius:0.3em"><code class="language-bash" style="white-space:pre;background:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>poetry run black hello_world_cli/cli.py</span></code></pre></div></pre>
<p>But you would not really want to run these commands manually every time you
change your code. This is where pre-commit comes in handy, to both make sure you
don&#x27;t commit wrongly formatted code and to not have to run these commands
manually.</p>
<p>Also, do note that some of these linters have small incompatible differences.
For example, black will complain if you have a line longer than 88 characters,
but flake8 will complain if you have a line longer than 79 characters. You need
to configure them to work correctly together:</p>
<ul>
<li>you should create a .flake8 file with the following content:</li>
</ul>
<pre><div style="position:relative"><button aria-label="Copy code" style="position:absolute;top:8px;right:8px;z-index:10;background:none;border:none;padding:0;cursor:pointer;opacity:0.7;transition:opacity 0.2s"><svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><rect x="9" y="9" width="13" height="13" rx="2" ry="2" stroke="currentColor"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg></button><pre style="background:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:0.5em 0;overflow:auto;border-radius:0.3em"><code class="language-bash" style="white-space:pre;background:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:hsl(230, 8%, 24%)">[</span><span>flake8</span><span class="token" style="color:hsl(230, 8%, 24%)">]</span><span>
</span><span>max-line-length </span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span> </span><span class="token" style="color:hsl(35, 99%, 36%)">88</span><span>
</span><span>extend-ignore </span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span> E203</span></code></pre></div></pre>
<ul>
<li>you should create a .isort.cfg file with the following content:</li>
</ul>
<pre><div style="position:relative"><button aria-label="Copy code" style="position:absolute;top:8px;right:8px;z-index:10;background:none;border:none;padding:0;cursor:pointer;opacity:0.7;transition:opacity 0.2s"><svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><rect x="9" y="9" width="13" height="13" rx="2" ry="2" stroke="currentColor"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg></button><pre style="background:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:0.5em 0;overflow:auto;border-radius:0.3em"><code class="language-bash" style="white-space:pre;background:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:hsl(230, 8%, 24%)">[</span><span>settings</span><span class="token" style="color:hsl(230, 8%, 24%)">]</span><span>
</span><span>profile </span><span class="token" style="color:hsl(221, 87%, 60%)">=</span><span> black</span></code></pre></div></pre>
<ul>
<li>you can read more on the <a href="https://black.readthedocs.io/en/stable/guides/using_black_with_other_tools.html">black documentation</a></li>
</ul>
<h2 id="7-automate-checks-on-local-with-pre-commit">7. Automate checks on local with pre-commit</h2>
<p>üìö Now that you have some tests and some linters, you can start automating your
checks. The goal of automating your checks is to make sure your code is always
in a good state. There are many tools out there that can help you automate your
checks (pre-commit, tox, etc...). I personally use pre-commit.</p>
<p>üõ†Ô∏è To install pre-commit, you can run the following command:</p>
<pre><div style="position:relative"><button aria-label="Copy code" style="position:absolute;top:8px;right:8px;z-index:10;background:none;border:none;padding:0;cursor:pointer;opacity:0.7;transition:opacity 0.2s"><svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><rect x="9" y="9" width="13" height="13" rx="2" ry="2" stroke="currentColor"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg></button><pre style="background:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:0.5em 0;overflow:auto;border-radius:0.3em"><code class="language-bash" style="white-space:pre;background:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>brew </span><span class="token" style="color:hsl(221, 87%, 60%)">install</span><span> pre-commit</span></code></pre></div></pre>
<p>Then you can run pre-commit</p>
<pre><div style="position:relative"><button aria-label="Copy code" style="position:absolute;top:8px;right:8px;z-index:10;background:none;border:none;padding:0;cursor:pointer;opacity:0.7;transition:opacity 0.2s"><svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><rect x="9" y="9" width="13" height="13" rx="2" ry="2" stroke="currentColor"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg></button><pre style="background:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:0.5em 0;overflow:auto;border-radius:0.3em"><code class="language-bash" style="white-space:pre;background:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>pre-commit run --all-files</span></code></pre></div></pre>
<p><a href="images/pre-commit.png"><img src="https://raw.githubusercontent.com/armand-sauzay/blog-posts/main/how-to-properly-setup-your-python-project/images/pre-commit.png" alt="pre-commit" node="[object Object]"/></a></p>
<ul>
<li>You can see on the image above that pre-commit is running the checks that we
defined in the <code node="[object Object]">.pre-commit-config.yaml</code> file.</li>
<li>Note that this file is coming from the template above in
<a href="#4-add-some-code">step 4</a>.</li>
</ul>
<h2 id="8-automate-checks-on-remote-with-github-actions">8. Automate checks on remote with GitHub Actions</h2>
<p>üìö Now that you have some tests and some linters, you can start automating your
checks on the server side. The goal of automating your checks on the server side
is to make sure your code is always in a good state. There are many tools out
there that can help you automate your checks (GitHub Actions, Travis CI, Circle
CI, etc...). I personally use GitHub Actions.</p>
<p>üõ†Ô∏è To set up GitHub Actions, you can create a file called <code node="[object Object]">.github/workflows/ci.yaml</code> and add the following code to it:</p>
<pre><div style="position:relative"><button aria-label="Copy code" style="position:absolute;top:8px;right:8px;z-index:10;background:none;border:none;padding:0;cursor:pointer;opacity:0.7;transition:opacity 0.2s"><svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><rect x="9" y="9" width="13" height="13" rx="2" ry="2" stroke="currentColor"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg></button><pre style="background:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:0.5em 0;overflow:auto;border-radius:0.3em"><code class="language-yaml" style="white-space:pre;background:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token key" style="color:hsl(35, 99%, 36%)">name</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> CI
</span>
<span></span><span class="token key" style="color:hsl(35, 99%, 36%)">on</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span>  </span><span class="token key" style="color:hsl(35, 99%, 36%)">workflow_dispatch</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span>  </span><span class="token key" style="color:hsl(35, 99%, 36%)">push</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span></span><span class="token key" style="color:hsl(35, 99%, 36%)">jobs</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span>  </span><span class="token key" style="color:hsl(35, 99%, 36%)">lint</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span>    </span><span class="token key" style="color:hsl(35, 99%, 36%)">name</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> Lint
</span><span>    </span><span class="token key" style="color:hsl(35, 99%, 36%)">runs-on</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> ubuntu</span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span>latest
</span><span>    </span><span class="token key" style="color:hsl(35, 99%, 36%)">steps</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span>      </span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span> </span><span class="token key" style="color:hsl(35, 99%, 36%)">uses</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> armand</span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span>sauzay/actions</span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span>python/lint@v1
</span><span>        </span><span class="token key" style="color:hsl(35, 99%, 36%)">with</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span>          </span><span class="token key" style="color:hsl(35, 99%, 36%)">github-token</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> $</span><span class="token" style="color:hsl(230, 8%, 24%)">{</span><span class="token" style="color:hsl(230, 8%, 24%)">{</span><span> secrets.GITHUB_TOKEN </span><span class="token" style="color:hsl(230, 8%, 24%)">}</span><span class="token" style="color:hsl(230, 8%, 24%)">}</span><span>
</span>
<span>  </span><span class="token key" style="color:hsl(35, 99%, 36%)">test</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span>    </span><span class="token key" style="color:hsl(35, 99%, 36%)">name</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> Test
</span><span>    </span><span class="token key" style="color:hsl(35, 99%, 36%)">runs-on</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> ubuntu</span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span>latest
</span><span>    </span><span class="token key" style="color:hsl(35, 99%, 36%)">steps</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span>      </span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span> </span><span class="token key" style="color:hsl(35, 99%, 36%)">uses</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> armand</span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span>sauzay/actions</span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span>python/test@v1
</span><span>        </span><span class="token key" style="color:hsl(35, 99%, 36%)">with</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span>          </span><span class="token key" style="color:hsl(35, 99%, 36%)">github-token</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> $</span><span class="token" style="color:hsl(230, 8%, 24%)">{</span><span class="token" style="color:hsl(230, 8%, 24%)">{</span><span> secrets.GITHUB_TOKEN </span><span class="token" style="color:hsl(230, 8%, 24%)">}</span><span class="token" style="color:hsl(230, 8%, 24%)">}</span><span>
</span><span>          </span><span class="token key" style="color:hsl(35, 99%, 36%)">test-flags</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> </span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span>version</span></code></pre></div></pre>
<p>Note that this file should already be created if you used the template mentionned above (see gh command in <a href="#4-add-some-code">step 4</a>.</p>
<p>Explanation:</p>
<ul>
<li>If you&#x27;re not familiar with the syntax of GitHub Actions, you can read the <a href="https://docs.github.com/en/actions/reference/workflow-syntax-for-github-actions">documentation</a>.</li>
<li>Here we call two jobs: lint and test. Each job runs on ubuntu-latest (a Linux machine).</li>
<li>The lint job uses the <a href="https://github.com/armand-sauzay/actions-python/tree/main/lint">armand-sauzay/actions-python/lint</a> action to run pre-commit.</li>
<li>The test job uses the <a href="https://github.com/armand-sauzay/actions-python/tree/main/test">armand-sauzay/actions-python/test</a> action to run pytest. Here we pass a flag to pytest to just have a dummy test. You can remove this flag to run your actual tests.</li>
</ul>
<p><a href="images/remote-checks.png"><img src="https://raw.githubusercontent.com/armand-sauzay/blog-posts/main/how-to-properly-setup-your-python-project/images/remote-checks.png" alt="remote-checks" node="[object Object]"/></a></p>
<h2 id="9-automate-your-release-with-github-actions">9. Automate your release with GitHub Actions</h2>
<p>üìö We have briefly talked about linting - using black, flake8, isort and mypy - and testing - using pytest. Release is an equally important concept that allows you to give versions to</p>
<p>üõ†Ô∏è To set up GitHub Actions, you can create a file called <code node="[object Object]">.github/workflows/release.yaml</code> and add the following code to it:</p>
<pre><div style="position:relative"><button aria-label="Copy code" style="position:absolute;top:8px;right:8px;z-index:10;background:none;border:none;padding:0;cursor:pointer;opacity:0.7;transition:opacity 0.2s"><svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><rect x="9" y="9" width="13" height="13" rx="2" ry="2" stroke="currentColor"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg></button><pre style="background:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:0.5em 0;overflow:auto;border-radius:0.3em"><code class="language-yaml" style="white-space:pre;background:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token key" style="color:hsl(35, 99%, 36%)">name</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> Release
</span>
<span></span><span class="token key" style="color:hsl(35, 99%, 36%)">on</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span>  </span><span class="token key" style="color:hsl(35, 99%, 36%)">push</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span>    </span><span class="token key" style="color:hsl(35, 99%, 36%)">branches</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span>      </span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span> main
</span><span>  </span><span class="token key" style="color:hsl(35, 99%, 36%)">workflow_dispatch</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> </span><span class="token" style="color:hsl(230, 4%, 64%);font-style:italic"># enable manual release</span><span>
</span>
<span></span><span class="token key" style="color:hsl(35, 99%, 36%)">jobs</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span>  </span><span class="token key" style="color:hsl(35, 99%, 36%)">lint</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span>    </span><span class="token key" style="color:hsl(35, 99%, 36%)">name</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> Lint
</span><span>    </span><span class="token key" style="color:hsl(35, 99%, 36%)">runs-on</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> ubuntu</span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span>latest
</span><span>    </span><span class="token key" style="color:hsl(35, 99%, 36%)">steps</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span>      </span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span> </span><span class="token key" style="color:hsl(35, 99%, 36%)">uses</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> armand</span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span>sauzay/actions</span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span>python/lint@v1
</span><span>        </span><span class="token key" style="color:hsl(35, 99%, 36%)">with</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span>          </span><span class="token key" style="color:hsl(35, 99%, 36%)">github-token</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> $</span><span class="token" style="color:hsl(230, 8%, 24%)">{</span><span class="token" style="color:hsl(230, 8%, 24%)">{</span><span> secrets.GITHUB_TOKEN </span><span class="token" style="color:hsl(230, 8%, 24%)">}</span><span class="token" style="color:hsl(230, 8%, 24%)">}</span><span>
</span>
<span>  </span><span class="token key" style="color:hsl(35, 99%, 36%)">test</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span>    </span><span class="token key" style="color:hsl(35, 99%, 36%)">name</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> Test
</span><span>    </span><span class="token key" style="color:hsl(35, 99%, 36%)">runs-on</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> ubuntu</span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span>latest
</span><span>    </span><span class="token key" style="color:hsl(35, 99%, 36%)">steps</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span>      </span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span> </span><span class="token key" style="color:hsl(35, 99%, 36%)">uses</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> armand</span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span>sauzay/actions</span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span>python/test@v1
</span><span>        </span><span class="token key" style="color:hsl(35, 99%, 36%)">with</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span>          </span><span class="token key" style="color:hsl(35, 99%, 36%)">github-token</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> $</span><span class="token" style="color:hsl(230, 8%, 24%)">{</span><span class="token" style="color:hsl(230, 8%, 24%)">{</span><span> secrets.GITHUB_TOKEN </span><span class="token" style="color:hsl(230, 8%, 24%)">}</span><span class="token" style="color:hsl(230, 8%, 24%)">}</span><span>
</span><span>          </span><span class="token key" style="color:hsl(35, 99%, 36%)">test-flags</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> </span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span>version
</span>
<span>  </span><span class="token key" style="color:hsl(35, 99%, 36%)">release</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span>    </span><span class="token key" style="color:hsl(35, 99%, 36%)">name</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> Release
</span><span>    </span><span class="token key" style="color:hsl(35, 99%, 36%)">needs</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> </span><span class="token" style="color:hsl(230, 8%, 24%)">[</span><span>lint</span><span class="token" style="color:hsl(230, 8%, 24%)">,</span><span> test</span><span class="token" style="color:hsl(230, 8%, 24%)">]</span><span>
</span><span>    </span><span class="token key" style="color:hsl(35, 99%, 36%)">runs-on</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> ubuntu</span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span>latest
</span><span>    </span><span class="token key" style="color:hsl(35, 99%, 36%)">outputs</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span>      </span><span class="token key" style="color:hsl(35, 99%, 36%)">new-release-published</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> $</span><span class="token" style="color:hsl(230, 8%, 24%)">{</span><span class="token" style="color:hsl(230, 8%, 24%)">{</span><span> steps.release.outputs.new</span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span>release</span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span>published </span><span class="token" style="color:hsl(230, 8%, 24%)">}</span><span class="token" style="color:hsl(230, 8%, 24%)">}</span><span>
</span><span>      </span><span class="token key" style="color:hsl(35, 99%, 36%)">new-release-version</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> $</span><span class="token" style="color:hsl(230, 8%, 24%)">{</span><span class="token" style="color:hsl(230, 8%, 24%)">{</span><span> steps.release.outputs.new</span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span>release</span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span>version </span><span class="token" style="color:hsl(230, 8%, 24%)">}</span><span class="token" style="color:hsl(230, 8%, 24%)">}</span><span>
</span><span>    </span><span class="token key" style="color:hsl(35, 99%, 36%)">steps</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span>      </span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span> </span><span class="token key" style="color:hsl(35, 99%, 36%)">uses</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> armand</span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span>sauzay/actions</span><span class="token" style="color:hsl(230, 8%, 24%)">-</span><span>python/release@v1
</span><span>        </span><span class="token key" style="color:hsl(35, 99%, 36%)">id</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> release
</span><span>        </span><span class="token key" style="color:hsl(35, 99%, 36%)">with</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span>
</span><span>          </span><span class="token key" style="color:hsl(35, 99%, 36%)">github-token</span><span class="token" style="color:hsl(230, 8%, 24%)">:</span><span> $</span><span class="token" style="color:hsl(230, 8%, 24%)">{</span><span class="token" style="color:hsl(230, 8%, 24%)">{</span><span> secrets.ADMIN_TOKEN </span><span class="token" style="color:hsl(230, 8%, 24%)">|</span><span class="token" style="color:hsl(230, 8%, 24%)">|</span><span> secrets.GITHUB_TOKEN </span><span class="token" style="color:hsl(230, 8%, 24%)">}</span><span class="token" style="color:hsl(230, 8%, 24%)">}</span></code></pre></div></pre>
<p><a href="images/release.png"><img src="https://raw.githubusercontent.com/armand-sauzay/blog-posts/main/how-to-properly-setup-your-python-project/images/release.png" alt="release" node="[object Object]"/></a></p>
<p>A few things worth noting:</p>
<ul>
<li>this workflow will trigger on push on the main branch and on manual trigger (workflow_dispatch)</li>
<li>it will run the lint and test jobs</li>
<li>it will then run the release job which is semantically versioning your code and creating a release on GitHub. In case you don&#x27;t know what semantic versioning is, you can read the <a href="https://semver.org/">documentation</a>.</li>
<li>In order to follow semantic versioning, you can follow conventional commits (this is why the commits show up as <code node="[object Object]">fix: ...</code> or <code node="[object Object]">feat: ...</code> in the release notes). You can read more on <a href="https://www.conventionalcommits.org/en/v1.0.0/">conventional commits</a>.</li>
<li>Sometimes you might have a protected branch, for which the default GITHUB_TOKEN wouldn&#x27;t have enough permissions to create a release. In that case, you can create a personal access token called <code node="[object Object]">ADMIN_TOKEN</code> and give it the right permissions. You can then use this token in the workflow.</li>
</ul>
<h2 id="10-enjoy-the-benefits-of-your-new-code-practices">10. Enjoy the benefits of your new code practices</h2>
<p>Now you know how to:</p>
<ul>
<li>use pyenv to install different python versions</li>
<li>use poetry to manage your dependencies (poetry add/remove)</li>
<li>use pytest to test your python code</li>
<li>what linting is and how to use flake8, black, isort and mypy</li>
<li>use pre-commit to automate your checks on your local machine</li>
<li>use GitHub Actions to automate your checks on the server side</li>
</ul>
<p>Enjoy the benefits of your new code practices! üéâ</p>
<p>As always, if you have any questions, feel free to leave a comment below or reach out to me on the different platforms:</p>
<p align="center">
<a href="https://github.com/armand-sauzay">
    <img src="https://raw.githubusercontent.com/FortAwesome/Font-Awesome/6.x/svgs/brands/github.svg" align="center" height="30" width="40" node="[object Object]"/>
</a>
<a href="https://twitter.com/armandsauzay">
    <img src="https://raw.githubusercontent.com/FortAwesome/Font-Awesome/6.x/svgs/brands/twitter.svg" align="center" height="30" width="40" node="[object Object]"/>
</a>
<a href="https://www.linkedin.com/in/armand-sauzay-80a70b160/">
    <img src="https://raw.githubusercontent.com/FortAwesome/Font-Awesome/6.x/svgs/brands/linkedin.svg" align="center" height="30" width="40" node="[object Object]"/>
</a>
<a href="https://armand-sauzay.github.io/#/about">
    <img src="https://raw.githubusercontent.com/FortAwesome/Font-Awesome/6.x/svgs/solid/globe.svg" alt="4214976" align="center" height="30" width="40" node="[object Object]"/>
</a>
<a href="https://medium.com/@armand-sauzay">
    <img src="https://raw.githubusercontent.com/FortAwesome/Font-Awesome/6.x/svgs/brands/medium.svg" alt="4214976" align="center" height="30" width="40" node="[object Object]"/>
</a>
<a href="https://dev.to/armandsauzay">
    <img src="https://raw.githubusercontent.com/FortAwesome/Font-Awesome/6.x/svgs/brands/dev.svg" align="center" height="30" width="40" node="[object Object]"/>
</a></p></article></main></div></main><footer class="w-full flex justify-center items-center gap-4 p-6 text-sm text-gray-500 mt-auto"><div class="flex gap-8 items-center "><a class="text-gray-500 hover:text-[#24512B] transition-transform transform hover:scale-110 " target="_blank" rel="noopener noreferrer" href="https://github.com/armand-sauzay"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-github h-4 w-4" style="width:16px;height:16px"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"></path><path d="M9 18c-4.51 2-5-2-7-2"></path></svg><span class="sr-only">GitHub</span></a><a class="text-gray-500 hover:text-[#24512B] transition-transform transform hover:scale-110 " target="_blank" rel="noopener noreferrer" href="https://linkedin.com/in/armandsauzay"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-linkedin h-4 w-4" style="width:16px;height:16px"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect width="4" height="12" x="2" y="9"></rect><circle cx="4" cy="4" r="2"></circle></svg><span class="sr-only">LinkedIn</span></a><a class="text-gray-500 hover:text-[#24512B] transition-transform transform hover:scale-110 " href="mailto:sauzayarmand@gmail.com"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-mail h-4 w-4" style="width:16px;height:16px"><rect width="20" height="16" x="2" y="4" rx="2"></rect><path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"></path></svg><span class="sr-only">Email</span></a></div><span class="text-gray-400">¬© armand sauzay</span></footer><script src="/_next/static/chunks/webpack-87b4446f5aacfc58.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[48173,[\"173\",\"static/chunks/173-24113e259ce525da.js\",\"292\",\"static/chunks/app/articles/page-9a53c5301fbc680c.js\"],\"\"]\n3:I[15244,[],\"\"]\n4:I[43866,[],\"\"]\n6:I[86213,[],\"OutletBoundary\"]\n8:I[86213,[],\"MetadataBoundary\"]\na:I[86213,[],\"ViewportBoundary\"]\nc:I[34835,[],\"\"]\n:HL[\"/_next/static/media/a34f9d1faa5f3315-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/css/56593b524a1ee8d7.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"mZ68oCeVOSS1o6q2alP6Z\",\"p\":\"\",\"c\":[\"\",\"articles\",\"python-project-setup\"],\"i\":false,\"f\":[[[\"\",{\"children\":[\"articles\",{\"children\":[[\"slug\",\"python-project-setup\",\"d\"],{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true],[\"\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/56593b524a1ee8d7.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[\"$\",\"body\",null,{\"className\":\"__className_d65c78 min-h-screen flex flex-col\",\"children\":[[\"$\",\"div\",null,{\"children\":[[\"$\",\"nav\",null,{\"className\":\"p-6\",\"children\":[\"$\",\"div\",null,{\"className\":\"max-w-4xl mx-auto flex justify-between items-center\",\"children\":[[\"$\",\"$L2\",null,{\"href\":\"/\",\"className\":\"text-[#005530] font-semibold text-xl\",\"children\":\"armandsauzay\"}],[\"$\",\"div\",null,{\"className\":\"flex gap-6\",\"children\":[[\"$\",\"$L2\",null,{\"href\":\"/articles\",\"className\":\"text-gray-600 hover:text-[#24512B] transition-colors flex items-center gap-2 cursor-pointer\",\"children\":[[\"$\",\"svg\",null,{\"ref\":\"$undefined\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-book-open h-5 w-5\",\"children\":[[\"$\",\"path\",\"1akyts\",{\"d\":\"M12 7v14\"}],[\"$\",\"path\",\"ruj8y\",{\"d\":\"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z\"}],\"$undefined\"]}],[\"$\",\"span\",null,{\"children\":\"Articles\"}]]}],[\"$\",\"$L2\",null,{\"href\":\"/projects\",\"className\":\"text-gray-600 hover:text-[#24512B] transition-colors flex items-center gap-2 cursor-pointer\",\"children\":[[\"$\",\"svg\",null,{\"ref\":\"$undefined\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-code-xml h-5 w-5\",\"children\":[[\"$\",\"path\",\"1inbqp\",{\"d\":\"m18 16 4-4-4-4\"}],[\"$\",\"path\",\"15zrgr\",{\"d\":\"m6 8-4 4 4 4\"}],[\"$\",\"path\",\"e7oirm\",{\"d\":\"m14.5 4-5 16\"}],\"$undefined\"]}],[\"$\",\"span\",null,{\"children\":\"Projects\"}]]}],[\"$\",\"$L2\",null,{\"href\":\"/creative-lab\",\"className\":\"text-gray-600 hover:text-[#24512B] transition-colors flex items-center gap-2 cursor-pointer\",\"children\":[[\"$\",\"svg\",null,{\"ref\":\"$undefined\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-brain h-5 w-5\",\"children\":[[\"$\",\"path\",\"l5xja\",{\"d\":\"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z\"}],[\"$\",\"path\",\"ep3f8r\",{\"d\":\"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z\"}],[\"$\",\"path\",\"1p4c4q\",{\"d\":\"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4\"}],[\"$\",\"path\",\"tmeiqw\",{\"d\":\"M17.599 6.5a3 3 0 0 0 .399-1.375\"}],[\"$\",\"path\",\"105sqy\",{\"d\":\"M6.003 5.125A3 3 0 0 0 6.401 6.5\"}],[\"$\",\"path\",\"ql3yin\",{\"d\":\"M3.477 10.896a4 4 0 0 1 .585-.396\"}],[\"$\",\"path\",\"1qfode\",{\"d\":\"M19.938 10.5a4 4 0 0 1 .585.396\"}],[\"$\",\"path\",\"2e4loj\",{\"d\":\"M6 18a4 4 0 0 1-1.967-.516\"}],[\"$\",\"path\",\"159ez6\",{\"d\":\"M19.967 17.484A4 4 0 0 1 18 18\"}],\"$undefined\"]}],[\"$\",\"span\",null,{\"children\":\"Creative Lab\"}]]}]]}]]}]}],[\"$\",\"div\",null,{\"className\":\"max-w-4xl mx-auto border-b border-gray-200\"}]]}],[\"$\",\"main\",null,{\"className\":\"flex-1 flex flex-col items-center justify-center\",\"children\":[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[],[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}],[\"$\",\"footer\",null,{\"className\":\"w-full flex justify-center items-center gap-4 p-6 text-sm text-gray-500 mt-auto\",\"children\":[[\"$\",\"div\",null,{\"className\":\"flex gap-8 items-center \",\"children\":[[\"$\",\"$L2\",null,{\"href\":\"https://github.com/armand-sauzay\",\"className\":\"text-gray-500 hover:text-[#24512B] transition-transform transform hover:scale-110 \",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"children\":[[\"$\",\"svg\",null,{\"ref\":\"$undefined\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-github h-4 w-4\",\"style\":{\"width\":16,\"height\":16},\"children\":[[\"$\",\"path\",\"tonef\",{\"d\":\"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4\"}],[\"$\",\"path\",\"9comsn\",{\"d\":\"M9 18c-4.51 2-5-2-7-2\"}],\"$undefined\"]}],[\"$\",\"span\",null,{\"className\":\"sr-only\",\"children\":\"GitHub\"}]]}],[\"$\",\"$L2\",null,{\"href\":\"https://linkedin.com/in/armandsauzay\",\"className\":\"text-gray-500 hover:text-[#24512B] transition-transform transform hover:scale-110 \",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"children\":[[\"$\",\"svg\",null,{\"ref\":\"$undefined\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-linkedin h-4 w-4\",\"style\":{\"width\":16,\"height\":16},\"children\":[[\"$\",\"path\",\"c2jq9f\",{\"d\":\"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z\"}],[\"$\",\"rect\",\"mk3on5\",{\"width\":\"4\",\"height\":\"12\",\"x\":\"2\",\"y\":\"9\"}],[\"$\",\"circle\",\"bt5ra8\",{\"cx\":\"4\",\"cy\":\"4\",\"r\":\"2\"}],\"$undefined\"]}],[\"$\",\"span\",null,{\"className\":\"sr-only\",\"children\":\"LinkedIn\"}]]}],[\"$\",\"$L2\",null,{\"href\":\"mailto:sauzayarmand@gmail.com\",\"className\":\"text-gray-500 hover:text-[#24512B] transition-transform transform hover:scale-110 \",\"children\":[[\"$\",\"svg\",null,{\"ref\":\"$undefined\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-mail h-4 w-4\",\"style\":{\"width\":16,\"height\":16},\"children\":[[\"$\",\"rect\",\"18n3k1\",{\"width\":\"20\",\"height\":\"16\",\"x\":\"2\",\"y\":\"4\",\"rx\":\"2\"}],[\"$\",\"path\",\"1ocrg3\",{\"d\":\"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7\"}],\"$undefined\"]}],[\"$\",\"span\",null,{\"className\":\"sr-only\",\"children\":\"Email\"}]]}]]}],[\"$\",\"span\",null,{\"className\":\"text-gray-400\",\"children\":\"¬© armand sauzay\"}]]}]]}]}]]}],{\"children\":[\"articles\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"articles\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"slug\",\"python-project-setup\",\"d\"],[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"articles\",\"children\",\"$0:f:0:1:2:children:2:children:0\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"__PAGE__\",[\"$\",\"$1\",\"c\",{\"children\":[\"$L5\",null,[\"$\",\"$L6\",null,{\"children\":\"$L7\"}]]}],{},null,false]},null,false]},null,false]},null,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$1\",\"SMCpLdFgLSX2N_fDTx0DZ\",{\"children\":[[\"$\",\"$L8\",null,{\"children\":\"$L9\"}],[\"$\",\"$La\",null,{\"children\":\"$Lb\"}],[\"$\",\"meta\",null,{\"name\":\"next-size-adjust\",\"content\":\"\"}]]}]]}],false]],\"m\":\"$undefined\",\"G\":[\"$c\",\"$undefined\"],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"b:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n9:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"1\",{\"children\":\"Armand Sauzay\"}],[\"$\",\"meta\",\"2\",{\"name\":\"description\",\"content\":\"Personal website of Armand Sauzay\"}],[\"$\",\"link\",\"3\",{\"rel\":\"icon\",\"href\":\"/favicon.ico\"}]]\n"])</script><script>self.__next_f.push([1,"7:null\n"])</script><script>self.__next_f.push([1,"d:I[95958,[\"313\",\"static/chunks/313-6cc61c2fd8ca5084.js\",\"904\",\"static/chunks/app/articles/%5Bslug%5D/page-444914622aa9eeee.js\"],\"default\"]\ne:T4927,"])</script><script>self.__next_f.push([1,"# How to properly setup your Python project\n\nThis article is published on: \n- [Medium](https://medium.com/@armand-sauzay/how-to-properly-setup-your-python-project-c81f7036b766)\n- [Devto](https://dev.to/armandsauzay/how-to-properly-setup-your-python-project-3fng)\n\nIndustry best practices to kickstart your python project.\n![How to properly setup your Python project](images/front-david-clode.jpeg)\n\u003cp align=\"center\"\u003ePhoto by David Clode on¬†Unsplash\u003c/p\u003e\n\nAs you start working on your python project, you will likely need to set it up\nin a consistent and collaboration-friendly way. In this article, I'll describe a\nsetup that works great for my projects. It includes many industry best practices\nand aims at explaining how to install python, run automated checks in a GitOps\nfashion and structure your project.\n\nThis article covers quite a few topics. To ease the reading, I've split each topic into two parts:\n- üìö indicates the __theory__ part \n- üõ†Ô∏è indicates the __practical__ part (i.e. the commands you need to run).\n\nSometimes you will also see a üí° section, indicating a tip or a trick.\n\n## Table of Contents\n\n1. [Install a Python version manager](#1-install-a-python-version-manager)\n2. [Choose an environment manager (poetry)](#2-choose-an-environment-manager-poetry)\n3. [Alternatively, use Docker as a Dev Environment instead](#3-alternatively-use-docker-as-a-dev-environment-instead)\n4. [Add Some Code](#4-add-some-code)\n5. [Write Some Tests](#5-write-some-tests)\n6. [Lint your code](#6-lint-your-code)\n7. [Automate checks on local with pre-commit](#7-automate-checks-on-local-with-pre-commit)\n8. [Automate checks on remote with GitHub Actions](#8-automate-checks-on-remote-with-github-actions)\n9. [Automate your release with GitHub Actions](#9-automate-your-release-with-github-actions)\n10. [Enjoy the benefits of your new code practices](#10-enjoy-the-benefits-of-your-new-code-practices)\n\n\n## 1. Install a Python version manager\n\nüìö The first thing you will need to do is to install a python version manager. A\npython version manager will allow you to install multiple versions of python on\nyour machine and switch between them easily.\n\nTo illustrate this, let's say you have a project that requires python 3.6 and\nanother project that requires python 3.7. If you only have python 3.7 installed\non your machine, you will have to uninstall it and install python 3.6 every time\nyou want to work on the first project... This is where a python version manager\ncomes in handy.\n\nYou can use [pyenv](https://github.com/pyenv/pyenv) for this and follow the \n[installation instructions](https://github.com/pyenv/pyenv#installation). \n\nüõ†Ô∏è At the time of writing this document, you can install pyenv by running the\nfollowing:\n\n```bash\ncurl https://pyenv.run | bash\n```\n\nIf you want more control over the installation, on mac for instance you can run:\n\n1. Use brew to install pyenv\n    ```bash\n    brew install pyenv\n    ```\n\n2. Depending on the shell you use, add pyenv to your PATH.\n\n    üí° If you're not sure which shell you're using, you can run the following command:\n    ```bash\n    echo $SHELL\n    ```\n    For bash:\n    ```bash\n    echo 'export PYENV_ROOT=\"$HOME/.pyenv\"' \u003e\u003e ~/.bashrc\n    echo 'command -v pyenv \u003e/dev/null || export PATH=\"$PYENV_ROOT/bin:$PATH\"' \u003e\u003e ~/.bashrc\n    echo 'eval \"$(pyenv init -)\"' \u003e\u003e ~/.bashrc\n    ```\n    For zsh:\n    ```bash\n    echo 'export PYENV_ROOT=\"$HOME/.pyenv\"' \u003e\u003e ~/.zshrc\n    echo 'command -v pyenv \u003e/dev/null || export PATH=\"$PYENV_ROOT/bin:$PATH\"' \u003e\u003e ~/.zshrc\n    echo 'eval \"$(pyenv init -)\"' \u003e\u003e ~/.zshrc\n    ```\n\n## 2. Choose an environment manager (poetry)\n\nüìö Now that you have a python version manager, you will need to install an\nenvironment manager. An environment manager will allow you to create isolated\nenvironments for your projects. This is useful when you work on multiple\nprojects that require different versions of the same package. And it is a great\npractice overall to make sure anyone can run your project. \n\nTo illustrate this, let's say you have a project that requires `pandas` and\n`matplotlib` to do some data analysis and another project that requires\n`tensorflow` to do some machine learning. It is considered a good practice to\ncreate a separate environment for each project. This way, you can install\nonly the packages you need for each project and avoid any conflicts between\npackages.\n\nThere are many environment managers (pipenv, conda, virtualenv, python\nbuilt-in venv, etc...). I personally use [poetry](https://python-poetry.org/).\n\nIn general, your environment manager will be installed with your python version. \nFor instance, if you use pyenv, you can install poetry by running the following command:\n```bash\npyenv install 3.10.6\npyenv global 3.10.6\npip install poetry\n```\n\nIn this case, poetry will live in your python environment. This means that\nyou can have a different version of poetry for each python version you have\ninstalled on your machine.\n\n\nüõ†Ô∏è Pip installing poetry in your python environment with pip is one way to do it but you can also follow the steps below:\n\n1. Use the curl command to install poetry\n    ```bash\n    curl -sSL https://install.python-poetry.org | python3 -\n    ```\n\n2. Add poetry to your PATH. On MacOS, poetry is added at `~/Library/Application\nSupport/pypoetry/venv/bin/poetry`. So you can add it to your PATH by adding the\nfollowing line to your ~/.bashrc or ~/.zshrc file:\n    ```bash\n    export PATH=\"$HOME/Library/Application Support/pypoetry/venv/bin:$PATH\"\n    ```\n    If you are using a different shell, you can find the path to poetry by running the following command:\n    ```bash\n    poetry config --list --local | grep virtualenvs.path\n    ```\n    And then add it to your PATH.\n\n## 3. Alternatively, use Docker as a Dev Environment instead\n\nIf you don't want to install a python version manager and an environment\nmanager, or want to abstract this for your team, you can use Docker instead. I\nwon't go into too many details here but if you're interested, VSCode has a great\n[integration with\nDocker](https://code.visualstudio.com/docs/devcontainers/containers)\n\n## 4. Add Some Code\n\nüìö Now that you have a python version manager and an environment manager, you\ncan start working on your project. Let's write some simple functions to get\nstarted. For illustration purposes we'll create a simple CLI that prints \"Hello\n`\u003cname\u003e`\" when you run it and give how many repositories `\u003cname\u003e` has on GitHub.\n\nüí° By default, poetry wants you to create a package with a folder named as your\ngit repository (with the only difference that it wants underscores instead of dashes). So if your git\nrepository is called `python-project-template`, poetry will create a folder\ncalled `python_project_template`.\n\nüí° You can find the code for this section at [armand-sauzay/hello-world-cli](https://github.com/armand-sauzay/hello-world-cli)\n\nIn this case let's call our project `hello-world`. So we'll create a folder\ncalled `hello_world` and add a file called `__init__.py` to it. \n\n\nüõ†Ô∏è Use gh to create a new repository called `hello-world` and clone it to your\nmachine:\n```bash\ngh repo create \u003cyour-github-username\u003e/hello-world-cli --template armand-sauzay/python-template --public\n```\n\nTo initialize your project, run the following command (it comes from the template above):\n```bash\n./script/bootstrap\n```\n\nAdd the requests package to your project:\n```bash\npoetry add requests\n```\n\nSo far, we ran the following commands:\n```bash\npyenv install 3.10.6 # install python 3.10.6\npyenv global 3.10.6 # (optional) set python 3.10.6 as the default python version\npip install poetry # install poetry as a python package in your python 3.10.6 environment\npoetry add requests # add the requests package to your project\n```\n\nIn `hello_world_cli` folder a file called `main.py` and add the following code to it:\n```python\nimport argparse\nimport requests\n\n\ndef main(argv=None) -\u003e int:\n    parser = argparse.ArgumentParser()\n    parser.add_argument(\n        \"--name\", help=\"The name to greet and count repos for\", default=\"world\"\n    )\n    args = parser.parse_args(argv)\n    if args.name == \"\":\n        print(\"Username cannot be empty\")\n        return 1\n\n    print(f\"Hello {args.name}!\")\n\n    repos = requests.get(f\"https://api.github.com/users/{args.name}/repos\")\n    if repos.status_code != 200:\n        print(f\"Failed to fetch repos for {args.name}\")\n        return 1\n    repos = repos.json()\n    print(f\"You have {len(repos)} repos.\")  # type: ignore\n    return 0\n\n\nif __name__ == \"__main__\":\n    raise SystemExit(main())\n\n```\n\nThere are a few tricks here that are worth mentioning:\n- We use `argparse` to parse the arguments passed to our CLI. This is a built-in\n  python package that allows you to parse arguments passed to your CLI. \n- We use `argv` to pass the arguments to our main function. This is useful for\n  testing purposes. We can pass a list of arguments to our main function and\n  test it without having to run the CLI.\n- We use `SystemExit` to exit our program. This is a built-in python exception\n  that allows you to exit your program with a specific exit code (0 for success, 1 for failure).\n\n## 5. Write Some Tests\n\nüìö Now that you have a few basic methods, you can start writing some tests. Tests make sure your code behaves as expected. There\nare many types of tests (unit tests, integration tests, end-to-end tests, etc...)\nbut in this article, we will focus on unit tests. Unit tests are tests that\ncheck the smallest unit of your code (i.e. a function or a method).\n\nüõ†Ô∏è Create a file called `test_main.py` and add the following code to it:\n```python\nfrom hello_world_cli.cli import main\n\ndef test_main(capsys):\n    assert main(['--name', 'test']) == 0\n    out, err = capsys.readouterr()\n    # test is a user which does not have any contributions since 2010. \n    # Hopefully this will not change in the future and the test will not break.\n    assert out == 'Hello test!\\nYou have 5 repos.\\n'\n    assert err == ''\n\ndef test_main_empty_name(capsys):\n    assert main(['--name', '']) == 1\n    out, err = capsys.readouterr()\n    assert out == 'Username cannot be empty\\n'\n    assert err == ''\n```\n\n- We use `capsys` to capture the output of our CLI. This is a pytest built-in that allows you to capture the output of your CLI.\n\n## 6. Lint your code\n\nüìö Now that you have some tests, you can start linting your code. Linting is the\nprocess of checking your code for potential errors. There are many linters out\nthere (pylint, flake8, black, etc...). I personally use flake8, black, isort and\nmypy. Ruff is also becoming quite popular and replaces flake8 and isort.\n\nüõ†Ô∏è To install flake8, black, isort and mypy, you can run the following command:\n```bash\npoetry add --dev flake8 black isort mypy\n```\n\nThen you can use mypy to check your code:\n```bash\npoetry run mypy hello_world_cli/cli.py\n```\n\nYou can use flake8 to check your code:\n```bash\npoetry run flake8 hello_world_cli/cli.py\n```\n\nYou can use black to format your code:\n```bash\npoetry run black hello_world_cli/cli.py\n```\n\nBut you would not really want to run these commands manually every time you\nchange your code. This is where pre-commit comes in handy, to both make sure you\ndon't commit wrongly formatted code and to not have to run these commands\nmanually.\n\nAlso, do note that some of these linters have small incompatible differences.\nFor example, black will complain if you have a line longer than 88 characters,\nbut flake8 will complain if you have a line longer than 79 characters. You need\nto configure them to work correctly together: \n- you should create a .flake8 file with the following content:\n```bash\n[flake8]\nmax-line-length = 88\nextend-ignore = E203\n```\n- you should create a .isort.cfg file with the following content:\n```bash\n[settings]\nprofile = black\n```\n- you can read more on the [black documentation](https://black.readthedocs.io/en/stable/guides/using_black_with_other_tools.html)\n\n\n## 7. Automate checks on local with pre-commit\n\nüìö Now that you have some tests and some linters, you can start automating your\nchecks. The goal of automating your checks is to make sure your code is always\nin a good state. There are many tools out there that can help you automate your\nchecks (pre-commit, tox, etc...). I personally use pre-commit.\n\nüõ†Ô∏è To install pre-commit, you can run the following command:\n```bash\nbrew install pre-commit\n```\n\nThen you can run pre-commit\n```bash\npre-commit run --all-files\n```\n\n[![pre-commit](images/pre-commit.png)](images/pre-commit.png)\n- You can see on the image above that pre-commit is running the checks that we\n  defined in the `.pre-commit-config.yaml` file.\n- Note that this file is coming from the template above in \n[step 4](#4-add-some-code).\n\n## 8. Automate checks on remote with GitHub Actions\n\nüìö Now that you have some tests and some linters, you can start automating your\nchecks on the server side. The goal of automating your checks on the server side\nis to make sure your code is always in a good state. There are many tools out\nthere that can help you automate your checks (GitHub Actions, Travis CI, Circle\nCI, etc...). I personally use GitHub Actions.\n\nüõ†Ô∏è To set up GitHub Actions, you can create a file called `.github/workflows/ci.yaml` and add the following code to it:\n```yaml\nname: CI\n\non:\n  workflow_dispatch:\n  push:\njobs:\n  lint:\n    name: Lint\n    runs-on: ubuntu-latest\n    steps:\n      - uses: armand-sauzay/actions-python/lint@v1\n        with:\n          github-token: ${{ secrets.GITHUB_TOKEN }}\n\n  test:\n    name: Test\n    runs-on: ubuntu-latest\n    steps:\n      - uses: armand-sauzay/actions-python/test@v1\n        with:\n          github-token: ${{ secrets.GITHUB_TOKEN }}\n          test-flags: --version\n```\n\nNote that this file should already be created if you used the template mentionned above (see gh command in [step 4](#4-add-some-code). \n\nExplanation: \n- If you're not familiar with the syntax of GitHub Actions, you can read the [documentation](https://docs.github.com/en/actions/reference/workflow-syntax-for-github-actions).\n- Here we call two jobs: lint and test. Each job runs on ubuntu-latest (a Linux machine).\n- The lint job uses the [armand-sauzay/actions-python/lint](https://github.com/armand-sauzay/actions-python/tree/main/lint) action to run pre-commit.\n- The test job uses the [armand-sauzay/actions-python/test](https://github.com/armand-sauzay/actions-python/tree/main/test) action to run pytest. Here we pass a flag to pytest to just have a dummy test. You can remove this flag to run your actual tests.\n\n[![remote-checks](images/remote-checks.png)](images/remote-checks.png)\n\n## 9. Automate your release with GitHub Actions\n\nüìö We have briefly talked about linting - using black, flake8, isort and mypy - and testing - using pytest. Release is an equally important concept that allows you to give versions to \n\nüõ†Ô∏è To set up GitHub Actions, you can create a file called `.github/workflows/release.yaml` and add the following code to it:\n```yaml\nname: Release\n\non:\n  push:\n    branches:\n      - main\n  workflow_dispatch: # enable manual release\n\njobs:\n  lint:\n    name: Lint\n    runs-on: ubuntu-latest\n    steps:\n      - uses: armand-sauzay/actions-python/lint@v1\n        with:\n          github-token: ${{ secrets.GITHUB_TOKEN }}\n\n  test:\n    name: Test\n    runs-on: ubuntu-latest\n    steps:\n      - uses: armand-sauzay/actions-python/test@v1\n        with:\n          github-token: ${{ secrets.GITHUB_TOKEN }}\n          test-flags: --version\n\n  release:\n    name: Release\n    needs: [lint, test]\n    runs-on: ubuntu-latest\n    outputs:\n      new-release-published: ${{ steps.release.outputs.new-release-published }}\n      new-release-version: ${{ steps.release.outputs.new-release-version }}\n    steps:\n      - uses: armand-sauzay/actions-python/release@v1\n        id: release\n        with:\n          github-token: ${{ secrets.ADMIN_TOKEN || secrets.GITHUB_TOKEN }}\n```\n\n[![release](images/release.png)](images/release.png)\n\nA few things worth noting:\n- this workflow will trigger on push on the main branch and on manual trigger (workflow_dispatch)\n- it will run the lint and test jobs\n- it will then run the release job which is semantically versioning your code and creating a release on GitHub. In case you don't know what semantic versioning is, you can read the [documentation](https://semver.org/).\n- In order to follow semantic versioning, you can follow conventional commits (this is why the commits show up as `fix: ...` or `feat: ...` in the release notes). You can read more on [conventional commits](https://www.conventionalcommits.org/en/v1.0.0/).\n- Sometimes you might have a protected branch, for which the default GITHUB_TOKEN wouldn't have enough permissions to create a release. In that case, you can create a personal access token called `ADMIN_TOKEN` and give it the right permissions. You can then use this token in the workflow.\n\n\n\n## 10. Enjoy the benefits of your new code practices\n\nNow you know how to: \n- use pyenv to install different python versions \n- use poetry to manage your dependencies (poetry add/remove)\n- use pytest to test your python code \n- what linting is and how to use flake8, black, isort and mypy\n- use pre-commit to automate your checks on your local machine\n- use GitHub Actions to automate your checks on the server side\n\nEnjoy the benefits of your new code practices! üéâ\n\nAs always, if you have any questions, feel free to leave a comment below or reach out to me on the different platforms:\n\n\u003cp align=\"center\"\u003e\n\u003ca href=\"https://github.com/armand-sauzay\"\u003e\n    \u003cimg align=\"center\" src= \"https://raw.githubusercontent.com/FortAwesome/Font-Awesome/6.x/svgs/brands/github.svg\" height=\"30\" width=\"40\" /\u003e\n\u003c/a\u003e\n\u003ca href=\"https://twitter.com/armandsauzay\"\u003e\n    \u003cimg align=\"center\" src=\"https://raw.githubusercontent.com/FortAwesome/Font-Awesome/6.x/svgs/brands/twitter.svg\" height=\"30\" width=\"40\" /\u003e\n\u003c/a\u003e\n\u003ca href=\"https://www.linkedin.com/in/armand-sauzay-80a70b160/\"\u003e\n    \u003cimg align=\"center\" src=\"https://raw.githubusercontent.com/FortAwesome/Font-Awesome/6.x/svgs/brands/linkedin.svg\" height=\"30\" width=\"40\" /\u003e\n\u003c/a\u003e\n\u003ca href=\"https://armand-sauzay.github.io/#/about\"\u003e\n    \u003cimg align=\"center\" src=\"https://raw.githubusercontent.com/FortAwesome/Font-Awesome/6.x/svgs/solid/globe.svg\" alt=\"4214976\" height=\"30\" width=\"40\" /\u003e\n\u003c/a\u003e\n\u003ca href=\"https://medium.com/@armand-sauzay\"\u003e\n    \u003cimg align=\"center\" src=\"https://raw.githubusercontent.com/FortAwesome/Font-Awesome/6.x/svgs/brands/medium.svg\" alt=\"4214976\" height=\"30\" width=\"40\" /\u003e\n\u003c/a\u003e\n\u003ca href=\"https://dev.to/armandsauzay\"\u003e\n    \u003cimg align=\"center\" src=\"https://raw.githubusercontent.com/FortAwesome/Font-Awesome/6.x/svgs/brands/dev.svg\" height=\"30\" width=\"40\" /\u003e\n\u003c/a\u003e\n\n\n\n\n"])</script><script>self.__next_f.push([1,"5:[\"$\",\"div\",null,{\"className\":\"min-h-screen flex flex-col\",\"children\":[\"$\",\"main\",null,{\"className\":\"flex-1 max-w-4xl mx-auto px-4 py-16\",\"children\":[\"$\",\"$Ld\",null,{\"markdown\":\"$e\",\"markdownUrl\":\"https://raw.githubusercontent.com/armand-sauzay/blog-posts/main/how-to-properly-setup-your-python-project/README.md\"}]}]}]\n"])</script></body></html>